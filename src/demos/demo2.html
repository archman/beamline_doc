<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Example 2 &mdash; beamline 1.3.5 documentation</title>
    
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.3.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="beamline 1.3.5 documentation" href="../../index.html" />
    <link rel="up" title="Examples and Demonstrations" href="../demo.html" />
    <link rel="next" title="Example 3" href="demo3.html" />
    <link rel="prev" title="Example 1" href="demo1.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="demo3.html" title="Example 3"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="demo1.html" title="Example 1"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">beamline 1.3.5 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../demo.html" accesskey="U">Examples and Demonstrations</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Example 2</a><ul>
<li><a class="reference internal" href="#warming-up">Warming Up</a></li>
<li><a class="reference internal" href="#online-modeling-a-chicane">Online-modeling a Chicane</a></li>
<li><a class="reference internal" href="#automatic-modeling">Automatic Modeling</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="demo1.html"
                        title="previous chapter">Example 1</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="demo3.html"
                        title="next chapter">Example 3</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="example-2">
<h1>Example 2<a class="headerlink" href="#example-2" title="Permalink to this headline">¶</a></h1>
<p>Manually modeling accelerator machine step by step, by using <code class="docutils literal"><span class="pre">beamline</span></code>
modules: <code class="docutils literal"><span class="pre">element</span></code>, <code class="docutils literal"><span class="pre">lattice</span></code>, <code class="docutils literal"><span class="pre">models</span></code> and <code class="docutils literal"><span class="pre">simulation</span></code>, etc.</p>
<div class="section" id="warming-up">
<h2>Warming Up<a class="headerlink" href="#warming-up" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>

<span class="kn">import</span> <span class="nn">beamline</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>


<span class="c1"># define elements by ``Element*`` class in ``beamline`` package</span>
<span class="hll"><span class="n">q</span>  <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">ElementCharge</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;q&#39;</span><span class="p">,)</span>
</span><span class="hll"><span class="n">q1</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">ElementQuad</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Q1&#39;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="s1">&#39;k1=10,l=0.2&#39;</span><span class="p">)</span>
</span><span class="hll"><span class="n">b1</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">ElementCsrcsben</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;B1&#39;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="s1">&#39;angle=+0.4,l=0.25&#39;</span><span class="p">)</span>
</span><span class="hll"><span class="n">b2</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">ElementCsrcsben</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;B2&#39;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="s1">&#39;angle=-0.4,l=0.25&#39;</span><span class="p">)</span>
</span><span class="hll"><span class="n">b3</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">ElementCsrcsben</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;B3&#39;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="s1">&#39;angle=-0.4,l=0.25&#39;</span><span class="p">)</span>
</span><span class="hll"><span class="n">b4</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">ElementCsrcsben</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="s1">&#39;angle=+0.4,l=0.25&#39;</span><span class="p">)</span>
</span><span class="hll"><span class="n">d1</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">ElementCsrdrift</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;D1&#39;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="s1">&#39;l=0.5&#39;</span><span class="p">)</span>
</span>
<span class="c1"># create lattice model by ``Models`` class</span>
<span class="hll"><span class="n">lattice</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">Models</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;BL&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;simu&#39;</span><span class="p">)</span> 
</span><span class="n">qline</span> <span class="o">=</span> <span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">d1</span><span class="p">)</span>
<span class="n">chi1</span>   <span class="o">=</span> <span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">d1</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">d1</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">d1</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">d1</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">d1</span><span class="p">,</span> <span class="n">q1</span><span class="p">)</span>
<span class="n">chi2</span>   <span class="o">=</span> <span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">d1</span><span class="p">,</span> <span class="n">b3</span><span class="p">,</span> <span class="n">d1</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">d1</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">d1</span><span class="p">,</span> <span class="n">b4</span><span class="p">,</span> <span class="n">d1</span><span class="p">,</span> <span class="n">q1</span><span class="p">)</span>
<span class="hll"><span class="n">lattice</span><span class="o">.</span><span class="n">addElement</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">qline</span><span class="p">,</span> <span class="n">chi1</span><span class="p">,</span> <span class="n">qline</span><span class="p">,</span> <span class="n">chi2</span><span class="p">,</span> <span class="n">qline</span><span class="p">)</span>
</span><span class="hll"><span class="c1">#ptches, anotelist, xrange, yrange = lattice.draw(showfig=False, mode=&#39;fancy&#39;)</span>
</span><span class="n">ptches</span><span class="p">,</span> <span class="n">anotelist</span><span class="p">,</span> <span class="nb">xrange</span><span class="p">,</span> <span class="n">yrange</span> <span class="o">=</span> <span class="n">lattice</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">showfig</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;plain&#39;</span><span class="p">)</span>

<span class="c1"># show lattice in &quot;fancy&quot; mode</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="p">[</span><span class="n">ax</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ptches</span><span class="p">]</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="nb">xrange</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">yrange</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="c1">#plt.grid()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>The above snippet shows how to build a simple lattice line from scratch,
that is:</p>
<blockquote>
<div><ul>
<li><p class="first">Create elements, one by one, with <code class="docutils literal"><span class="pre">Elements*</span></code> class[es] that
within <code class="docutils literal"><span class="pre">beamline</span></code> package, always assign the element with
a meaningful name, it&#8217;s better to follow some naming rules;</p>
</li>
<li><p class="first">Create lattice model instance, by the <code class="docutils literal"><span class="pre">Models</span></code> class, define the
beamline name to be modeled by <code class="docutils literal"><span class="pre">name</span></code> keyword, and <code class="docutils literal"><span class="pre">mode</span></code> keyword
to indicate which mode should be modelled, could be selected from
<code class="docutils literal"><span class="pre">simu</span></code> and <code class="docutils literal"><span class="pre">online</span></code> options, which stands for <code class="docutils literal"><span class="pre">simulation</span> <span class="pre">mode</span></code>
and <code class="docutils literal"><span class="pre">online</span> <span class="pre">mode</span></code>, if <code class="docutils literal"><span class="pre">mode='simu'</span></code>, then all parameter values
should be assigned with fixed values (usually defined in the element
creation step), while <code class="docutils literal"><span class="pre">mode='online'</span></code> would trig such on-line
procedure:</p>
<blockquote>
<div><ul class="simple">
<li>The data acquiring process will try to get the value from control
fields, e.g. some EPICS PV string named channels;</li>
<li>If failed, then rollback to simulation mode, i.e. using the
values that defined for simulation mode;</li>
<li>The EPICS PV control fields could be defined by
<code class="docutils literal"><span class="pre">setConf(type='ctrl')</span></code> method for all <code class="docutils literal"><span class="pre">Element*</span></code> classes.</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">lattice</span></code> is now an instance of class <code class="docutils literal"><span class="pre">Models</span></code>, the <code class="docutils literal"><span class="pre">draw()</span></code> method
is responsible for showing the lattice layout with defined style, i.e.
<code class="docutils literal"><span class="pre">fancy</span></code> (left) or <code class="docutils literal"><span class="pre">plain</span></code> (right):</p>
<a class="reference internal image-reference" href="../../_images/test_drawing_1.png"><img alt="../../_images/test_drawing_1.png" src="../../_images/test_drawing_1.png" style="width: 400px;" /></a>
<a class="reference internal image-reference" href="../../_images/test_drawing_2.png"><img alt="../../_images/test_drawing_2.png" src="../../_images/test_drawing_2.png" style="width: 400px;" /></a>
</div>
<div class="section" id="online-modeling-a-chicane">
<h2>Online-modeling a Chicane<a class="headerlink" href="#online-modeling-a-chicane" title="Permalink to this headline">¶</a></h2>
<p>Below is an example to modeling a four-dioples separated chicane by hand,
to follow the steps:</p>
<ol class="arabic">
<li><p class="first">Start an IOC to provide the EPICS control environment, e.g. to link
a few (one or two) valid PVs with some quadrupoles;</p>
</li>
<li><p class="first">Create magnetic elements one by one, it is suggested to follow the
lattice/beamline element appearance sequence;</p>
</li>
<li><p class="first">Instantiate with <code class="docutils literal"><span class="pre">Models</span></code> class;</p>
</li>
<li><dl class="first docutils">
<dt>Create lattice:</dt>
<dd><ul class="first last simple">
<li>Generate lattice file for simulation;</li>
<li>Other manipulations;</li>
</ul>
</dd>
</dl>
</li>
</ol>
<p>Here goes the details:</p>
<p><strong>Start IOC to mimic real control environment</strong></p>
<div class="align-center figure" id="id1">
<a class="reference internal image-reference" href="../../_images/test_chicane_om_ioc_1.png"><img alt="../../_images/test_chicane_om_ioc_1.png" src="../../_images/test_chicane_om_ioc_1.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Start IOC</span></p>
</div>
<div class="align-center figure" id="id2">
<a class="reference internal image-reference" href="../../_images/test_chicane_om_ioc_2.png"><img alt="../../_images/test_chicane_om_ioc_2.png" src="../../_images/test_chicane_om_ioc_2.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">List available records (PVs)</span></p>
</div>
<p><strong>Create elements</strong></p>
<p>Import proper packages:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># coding: utf-8</span>

<span class="kn">import</span> <span class="nn">beamline</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.patches</span> <span class="kn">as</span> <span class="nn">patches</span>
<span class="kn">import</span> <span class="nn">copy</span>
</pre></div>
</div>
<p>Next, the very first step need to push forward is to correctly model the
physical elements (one by one), in the <code class="docutils literal"><span class="pre">beamline</span></code> package, magnet
components classes could be found in <code class="docutils literal"><span class="pre">element</span></code> module, e.g. quadrupole
is abstracted in <code class="docutils literal"><span class="pre">ElementQuad</span></code> class, charge is in <code class="docutils literal"><span class="pre">ElementCharge</span></code>, etc.,
they are all inherited from <code class="docutils literal"><span class="pre">MagBlock</span></code>.</p>
<p>The common or shared information/configurations for all these elements
could be predefined in <code class="docutils literal"><span class="pre">MagBlock</span></code> class, e.g. we can put information
like facility name, time stamp, author/operator, etc., common information
is presumed not changed, so please defined in the first step, see STEP 1.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># STEP 1: define common information</span>
<span class="c1"># commdinfo = {&#39;DATE&#39;: &#39;2016-03-22&#39;, &#39;AUTHOR&#39;: &#39;Tong Zhang&#39;}</span>
<span class="n">comminfo</span> <span class="o">=</span> <span class="s1">&#39;DATE = 2016-03-24, AUTHOR = Tong Zhang&#39;</span>
<span class="n">beamline</span><span class="o">.</span><span class="n">MagBlock</span><span class="o">.</span><span class="n">setCommInfo</span><span class="p">(</span><span class="n">comminfo</span><span class="p">)</span>

<span class="c1"># set visualization style</span>
<span class="n">beamline</span><span class="o">.</span><span class="n">MagBlock</span><span class="o">.</span><span class="n">setStyleConfig</span><span class="p">(</span>
        <span class="n">config</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;quad&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;fc&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;ec&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">},</span>
                <span class="s1">&#39;bend&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;fc&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;ec&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">}})</span>

</pre></div>
</div>
<p>To set the elements&#8217; configurations, method <code class="docutils literal"><span class="pre">setConf(config,</span> <span class="pre">type)</span></code> could
be used, in which <code class="docutils literal"><span class="pre">config</span></code> is either configuration string with the
format like <code class="docutils literal"><span class="pre">k1=10.0,l=0.1</span></code> or python dictionary like <code class="docutils literal"><span class="pre">{'k1':</span> <span class="pre">10.0,</span> <span class="pre">'l':</span> <span class="pre">0.1}</span></code>,
and <code class="docutils literal"><span class="pre">type</span></code> is the configuration type to be confiugred, could be
<code class="docutils literal"><span class="pre">comm</span></code> (common configuration), <code class="docutils literal"><span class="pre">ctrl</span></code> (control configuration),
<code class="docutils literal"><span class="pre">simu</span></code> (simulation configuration), <code class="docutils literal"><span class="pre">misc</span></code> (miscellaneous configuration)
and <code class="docutils literal"><span class="pre">all</span></code> (all configurations).</p>
<p>The unit between EPICS PV value and real physical variable is usually
required to do conversions, so in the design stage, the method
<code class="docutils literal"><span class="pre">unitTrans(inval,</span> <span class="pre">direction='+',</span> <span class="pre">transfun=None)</span></code> is created for
handling such issue. One can define this conversion function at the
class stage, but this approach is limited to the case that all the
elements with the same type only could share the same conversion function,
which is not proper in the real situation. Thus, <code class="docutils literal"><span class="pre">transfun</span></code> is created
as the input function parameter for <code class="docutils literal"><span class="pre">unitTrans</span></code> method, which is a
user-defined function for each element object.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># STEP 2: create elements</span>

<span class="c1"># charge, this is visual element for the real accelerator, </span>
<span class="c1"># but is a must for elegant tracking</span>
<span class="n">chconf</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;total&#39;</span><span class="p">:</span> <span class="mf">1e-9</span><span class="p">}</span>
<span class="n">q</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">ElementCharge</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;q&#39;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">chconf</span><span class="p">)</span>

<span class="c1"># csrcsben, use elegant element name</span>
<span class="c1"># simconf is complementary configurations for elegant tracking, </span>
<span class="c1"># should set with setConf(simconf, type=&#39;simu&#39;) method</span>
<span class="n">simconf</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;edge1_effects&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
           <span class="s2">&quot;edge2_effects&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
           <span class="s2">&quot;hgap&quot;</span><span class="p">:</span><span class="mf">0.015</span><span class="p">,</span>
           <span class="s2">&quot;csr&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
           <span class="s2">&quot;nonlinear&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
           <span class="s2">&quot;n_kicks&quot;</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span>
           <span class="s2">&quot;integration_order&quot;</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span>
           <span class="s2">&quot;bins&quot;</span><span class="p">:</span><span class="mi">512</span><span class="p">,</span>
           <span class="s2">&quot;sg_halfwidth&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
           <span class="s2">&quot;block_csr&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
           <span class="s1">&#39;l&#39;</span><span class="p">:</span><span class="mf">0.5</span><span class="p">,}</span>
<span class="n">angle</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="c1"># rad</span>

<span class="n">B1</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">ElementCsrcsben</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;b1&#39;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;angle&#39;</span><span class="p">:</span><span class="n">angle</span><span class="p">,</span> <span class="s1">&#39;e1&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;e2&#39;</span><span class="p">:</span><span class="n">angle</span><span class="p">})</span>
<span class="n">B1</span><span class="o">.</span><span class="n">setConf</span><span class="p">(</span><span class="n">simconf</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;simu&#39;</span><span class="p">)</span>
<span class="n">B2</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">ElementCsrcsben</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;b2&#39;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;angle&#39;</span><span class="p">:</span><span class="o">-</span><span class="n">angle</span><span class="p">,</span> <span class="s1">&#39;e1&#39;</span><span class="p">:</span><span class="o">-</span><span class="n">angle</span><span class="p">,</span> <span class="s1">&#39;e2&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">})</span>
<span class="n">B3</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">ElementCsrcsben</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;b3&#39;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;angle&#39;</span><span class="p">:</span><span class="o">-</span><span class="n">angle</span><span class="p">,</span> <span class="s1">&#39;e1&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;e2&#39;</span><span class="p">:</span><span class="o">-</span><span class="n">angle</span><span class="p">})</span>
<span class="n">B4</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">ElementCsrcsben</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;b4&#39;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;angle&#39;</span><span class="p">:</span> <span class="n">angle</span><span class="p">,</span> <span class="s1">&#39;e1&#39;</span><span class="p">:</span><span class="n">angle</span><span class="p">,</span> <span class="s1">&#39;e2&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">})</span>
<span class="n">B2</span><span class="o">.</span><span class="n">setConf</span><span class="p">(</span><span class="n">simconf</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;simu&#39;</span><span class="p">)</span>
<span class="n">B3</span><span class="o">.</span><span class="n">setConf</span><span class="p">(</span><span class="n">simconf</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;simu&#39;</span><span class="p">)</span>
<span class="n">B4</span><span class="o">.</span><span class="n">setConf</span><span class="p">(</span><span class="n">simconf</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;simu&#39;</span><span class="p">)</span>

<span class="c1"># drift</span>
<span class="n">D0</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">ElementDrift</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;D0&#39;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="s2">&quot;l=1.0&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now the dipole and drift sections are created, here you can also issue
some methods to get the defined elements&#8217; properties, e.g.:
<code class="docutils literal"><span class="pre">print(B1.calcTransM(gamma=200))</span></code> to get transport matrix and
<code class="docutils literal"><span class="pre">B1.printConfig(type='all')</span></code> to show all the configurations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Always try to hit &lt;TAB&gt; when you&#8217;re working under command
line interface, especially in IPython shell when you&#8217;re
playing Python.</p>
</div>
<p>Next create quadrupoles and incorporate the unit-conversion feature.</p>
<p>Define the conversion function, the <code class="docutils literal"><span class="pre">direction</span></code> parameter indicates
the conversion direction, i.e.:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">'+'</span></code>: conversion rule for EPICS PV (raw) value to physical (real) value;</li>
<li><code class="docutils literal"><span class="pre">'-'</span></code>: conversion rule for physical (real) value to EPICS PV (raw) value.</li>
</ul>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fUnitTrans</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">direction</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">direction</span> <span class="o">==</span> <span class="s1">&#39;+&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">val</span><span class="o">*</span><span class="mf">4.0</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">val</span><span class="o">*</span><span class="mf">0.25</span>
</pre></div>
</div>
<p>To use conversion function:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># create instance and apply user-defined unit conversion function</span>
<span class="n">Q1</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">ElementQuad</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Q1&#39;</span><span class="p">,</span> <span class="n">config</span> <span class="o">=</span> <span class="s2">&quot;k1 = 10, l = 0.5&quot;</span><span class="p">)</span>
<span class="n">simuconf</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;tilt&#39;</span><span class="p">:</span><span class="s2">&quot;pi 4 /&quot;</span><span class="p">}</span>
<span class="n">Q1</span><span class="o">.</span><span class="n">setConf</span><span class="p">(</span><span class="n">simuconf</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;simu&#39;</span><span class="p">)</span>
<span class="c1"># control configurations for Q1</span>
<span class="n">ctrlconf</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;k1&quot;</span><span class="p">:{</span><span class="s1">&#39;pv&#39;</span><span class="p">:</span><span class="s2">&quot;sxfel:lattice:Q09&quot;</span><span class="p">,</span><span class="s1">&#39;val&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">}}</span>
<span class="n">Q1</span><span class="o">.</span><span class="n">setConf</span><span class="p">(</span><span class="n">ctrlconf</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;ctrl&#39;</span><span class="p">)</span>
<span class="n">Q1</span><span class="o">.</span><span class="n">transfun</span> <span class="o">=</span> <span class="n">fUnitTrans</span> <span class="c1"># apply unit conversion function</span>
</pre></div>
</div>
<p>Some testing to show the conversion rule has been applied successfully:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Q1</span><span class="o">.</span><span class="n">printConfig</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;ctrl&#39;</span><span class="p">)</span>
<span class="go">---------- Configuration START  ----------</span>
<span class="go">Element name: Q1 (ElementQuad)</span>
<span class="go">Control configs:</span>
<span class="go">k1     = sxfel:lattice:Q09, raw:   10.0, real:   40.0</span>
<span class="go">----------  Configuration END   ----------</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Q1</span><span class="o">.</span><span class="n">printConfig</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;simu&#39;</span><span class="p">)</span>
<span class="go">---------- Configuration START  ----------</span>
<span class="go">Element name: Q1 (ElementQuad)</span>
<span class="go">Simulation configs:</span>
<span class="go">tilt   = pi 4 /</span>
<span class="go">l      = 0.5</span>
<span class="go">k1     = 10</span>
<span class="go">----------  Configuration END   ----------</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Q1</span><span class="o">.</span><span class="n">getK1</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;ctrl&#39;</span><span class="p">)</span>
<span class="go">40</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Q1</span><span class="o">.</span><span class="n">getK1</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;simu&#39;</span><span class="p">)</span>
<span class="go">10</span>
</pre></div>
</div>
<p><strong>Create models</strong></p>
<p>Use <code class="docutils literal"><span class="pre">Models</span></code> class of <code class="docutils literal"><span class="pre">models</span></code> module, change mode to be <code class="docutils literal"><span class="pre">simu</span></code>
to start simulation mode, <code class="docutils literal"><span class="pre">online</span></code> mode will trig EPICS get/put processes
when control configurations could be found in elements&#8217; configuration.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">latline_online</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">Models</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;blchi&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;online&#39;</span><span class="p">)</span> 
<span class="n">qline</span> <span class="o">=</span> <span class="p">(</span><span class="n">D0</span><span class="p">,</span> <span class="n">Q1</span><span class="p">,</span> <span class="n">D0</span><span class="p">)</span>
<span class="n">chi</span>   <span class="o">=</span> <span class="p">(</span><span class="n">B1</span><span class="p">,</span> <span class="n">D0</span><span class="p">,</span> <span class="n">B2</span><span class="p">,</span> <span class="n">D0</span><span class="p">,</span> <span class="n">D0</span><span class="p">,</span> <span class="n">B3</span><span class="p">,</span> <span class="n">D0</span><span class="p">,</span> <span class="n">B4</span><span class="p">)</span>
<span class="n">latline_online</span><span class="o">.</span><span class="n">addElement</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">qline</span><span class="p">,</span> <span class="n">chi</span><span class="p">,</span> <span class="n">qline</span><span class="p">)</span>

<span class="c1"># show artist layout</span>
<span class="c1">#latline_online.draw(showfig=True,mode=&#39;fancy&#39;)</span>
</pre></div>
</div>
<p>To access what <code class="docutils literal"><span class="pre">latline_online</span></code> (which is an instance of
<code class="docutils literal"><span class="pre">beamline.models.Models</span></code>) provides:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">eleb1</span><span class="p">,</span> <span class="o">=</span> <span class="n">latline_online</span><span class="o">.</span><span class="n">getElementsByName</span><span class="p">(</span><span class="s1">&#39;b1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">eleb1</span><span class="o">.</span><span class="n">name</span>
<span class="go">b1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># change b1 configuration, e.g. angle</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eleb1</span><span class="o">.</span><span class="n">setConf</span><span class="p">(</span><span class="s1">&#39;angle=0.5&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;simu&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eleb1</span><span class="o">.</span><span class="n">printConfig</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># print out all added elements</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">latline_online</span><span class="o">.</span><span class="n">printAllElements</span><span class="p">()</span>
<span class="go">----------  Configuration END   ----------</span>
<span class="go">ID : Name         Type       Class Name</span>
<span class="go">001: q            CHARGE     ElementCharge</span>
<span class="go">002: D0           DRIFT      ElementDrift</span>
<span class="go">003: Q1           QUAD       ElementQuad</span>
<span class="go">004: D0           DRIFT      ElementDrift</span>
<span class="go">005: b1           CSRCSBEN   ElementCsrcsben</span>
<span class="go">006: D0           DRIFT      ElementDrift</span>
<span class="go">007: b2           CSRCSBEN   ElementCsrcsben</span>
<span class="go">008: D0           DRIFT      ElementDrift</span>
<span class="go">009: D0           DRIFT      ElementDrift</span>
<span class="go">010: b3           CSRCSBEN   ElementCsrcsben</span>
<span class="go">011: D0           DRIFT      ElementDrift</span>
<span class="go">012: b4           CSRCSBEN   ElementCsrcsben</span>
<span class="go">013: D0           DRIFT      ElementDrift</span>
<span class="go">014: Q1           QUAD       ElementQuad</span>
<span class="go">015: D0           DRIFT      ElementDrift</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># get configuration of &#39;Q1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">latline_online</span><span class="o">.</span><span class="n">getAllConfig</span><span class="p">(</span><span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;dict&#39;</span><span class="p">)[</span><span class="s1">&#39;Q1&#39;</span><span class="p">]</span>
<span class="go">{&#39;QUAD&#39;: {&#39;tilt&#39;: &#39;pi 4 /&#39;, &#39;k1&#39;: 2.5, &#39;l&#39;: &#39;0.5&#39;}}</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># get all &#39;Q1&#39; and change the drawing style of orange facecolor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eleQ1all</span> <span class="o">=</span> <span class="n">latline_online</span><span class="o">.</span><span class="n">getElementsByName</span><span class="p">(</span><span class="s1">&#39;Q1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">setStyle</span><span class="p">(</span><span class="n">fc</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">),</span> <span class="n">eleQ1all</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">eleQ1all</span>
<span class="go">[&lt;beamline.element.ElementQuad object at 0x7f335a40b610&gt;,</span>
<span class="go"> &lt;beamline.element.ElementQuad object at 0x7f335a40b9d0&gt;]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal"><span class="pre">addElement()</span></code> method support replica expansion
functionality, when same named items are added into
the lattice tuple (e.g. <code class="docutils literal"><span class="pre">qline</span></code> in this example),
so when <code class="docutils literal"><span class="pre">getElementsByName()</span></code> is invoked, a list
would be returned, it is the user&#8217;s liability to
discriminate which one should be selected
and modified since they share the same literal name,
it is better to assign a new name once seleced from
the list.</p>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># update Q1&#39;s EPICS PV value, aim to set its true value</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">latline_online</span><span class="o">.</span><span class="n">putCtrlConf</span><span class="p">(</span><span class="n">eleQ1</span><span class="p">,</span> <span class="s1">&#39;k1&#39;</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;real&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eleQ1</span><span class="o">.</span><span class="n">printConfig</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
<span class="go">---------- Configuration START  ----------</span>
<span class="go">Element name: Q1 (ElementQuad)</span>
<span class="go">Position: s = 1.000 [m]</span>
<span class="go">Common configs:</span>
<span class="go">DATE   = 2016-03-24</span>
<span class="go">AUTHOR = Tong Zhang</span>
<span class="go">Simulation configs:</span>
<span class="go">tilt   = pi 4 /</span>
<span class="go">l      = 0.5</span>
<span class="go">k1     = 10</span>
<span class="go">Control configs:</span>
<span class="go">k1     = sxfel:lattice:Q09, raw:  0.625, real:    2.5</span>
<span class="go">----------  Configuration END   ----------</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># update Q1&#39;s EPICS PV value, aim to set its raw value</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">latline_online</span><span class="o">.</span><span class="n">putCtrlConf</span><span class="p">(</span><span class="n">eleQ1</span><span class="p">,</span> <span class="s1">&#39;k1&#39;</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;raw&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eleQ1</span><span class="o">.</span><span class="n">printConfig</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
<span class="go">---------- Configuration START  ----------</span>
<span class="go">Element name: Q1 (ElementQuad)</span>
<span class="go">Position: s = 1.000 [m]</span>
<span class="go">Common configs:</span>
<span class="go">DATE   = 2016-03-24</span>
<span class="go">AUTHOR = Tong Zhang</span>
<span class="go">Simulation configs:</span>
<span class="go">tilt   = pi 4 /</span>
<span class="go">l      = 0.5</span>
<span class="go">k1     = 10</span>
<span class="go">Control configs:</span>
<span class="go">k1     = sxfel:lattice:Q09, raw:    2.5, real:   10.0</span>
<span class="go">----------  Configuration END   ----------</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The unit of &#8216;raw&#8217; value here should be &#8216;A&#8217;,
and &#8216;T/m&#8217; for &#8216;real&#8217; value, however it&#8217;s
also the user&#8217;s liability to define correct
unit conversion function at the element creation
stage.</p>
</div>
<p><strong>Lattice modeling</strong></p>
<p><code class="docutils literal"><span class="pre">Lattice</span></code> class in <code class="docutils literal"><span class="pre">lattice</span></code> module is created for make lattice
instance, the initial idea is to bridge the real machine and the
numerical simulation world, e.g. generate lattice file that could be
used by simulation code like <code class="docutils literal"><span class="pre">Elegant</span></code>.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># e.g. &#39;.lte&#39; for elegant tracking, require all configurations</span>
<span class="n">latins</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">Lattice</span><span class="p">(</span><span class="n">latline_online</span><span class="o">.</span><span class="n">getAllConfig</span><span class="p">())</span>
<span class="n">latfile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="s1">&#39;../../tests/tracking/test.lte&#39;</span><span class="p">)</span>
<span class="n">latins</span><span class="o">.</span><span class="n">generateLatticeFile</span><span class="p">(</span><span class="n">latline_online</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">latfile</span><span class="p">)</span>
<span class="c1">#latins.dumpAllElements()</span>
</pre></div>
</div>
<p>The generated lattice file:</p>
<div class="highlight-guess"><div class="highlight"><pre><span></span>!-------------------------------------------------------------------------!
! This file is automatically generated by &#39;generateLatticeFile()&#39; method, !
!                 could be used as elegant lattice file.                  !
!                        ------------------------                         !
!               Author: Tong Zhang (zhangtong@sinap.ac.cn)                !
!                 Generated Date: 2016-08-23 16:29:01 CST                 !
!-------------------------------------------------------------------------!

! Element definitions:                                                    
D0        :     DRIFT, l = &quot;1.0&quot;
Q1        :      QUAD, tilt = &quot;pi 4 /&quot;, k1 = &quot;2.5&quot;, l = &quot;0.5&quot;
B1        :  CSRCSBEN, hgap = &quot;0.015&quot;, integration_order = &quot;4&quot;, block_csr = &quot;0&quot;, angle = &quot;0.1&quot;, n_kicks = &quot;100&quot;, edge2_effects = &quot;1&quot;, edge1_effects = &quot;1&quot;, l = &quot;0.5&quot;, nonlinear = &quot;1&quot;, sg_halfwidth = &quot;1&quot;, csr = &quot;0&quot;, e1 = &quot;0&quot;, bins = &quot;512&quot;, e2 = &quot;0.1&quot;
B2        :  CSRCSBEN, hgap = &quot;0.015&quot;, integration_order = &quot;4&quot;, block_csr = &quot;0&quot;, angle = &quot;-0.1&quot;, n_kicks = &quot;100&quot;, edge2_effects = &quot;1&quot;, edge1_effects = &quot;1&quot;, l = &quot;0.5&quot;, nonlinear = &quot;1&quot;, sg_halfwidth = &quot;1&quot;, csr = &quot;0&quot;, e1 = &quot;-0.1&quot;, bins = &quot;512&quot;, e2 = &quot;0&quot;
B3        :  CSRCSBEN, hgap = &quot;0.015&quot;, integration_order = &quot;4&quot;, block_csr = &quot;0&quot;, angle = &quot;-0.1&quot;, n_kicks = &quot;100&quot;, edge2_effects = &quot;1&quot;, edge1_effects = &quot;1&quot;, l = &quot;0.5&quot;, nonlinear = &quot;1&quot;, sg_halfwidth = &quot;1&quot;, csr = &quot;0&quot;, e1 = &quot;0&quot;, bins = &quot;512&quot;, e2 = &quot;-0.1&quot;
B4        :  CSRCSBEN, hgap = &quot;0.015&quot;, integration_order = &quot;4&quot;, block_csr = &quot;0&quot;, angle = &quot;0.1&quot;, n_kicks = &quot;100&quot;, edge2_effects = &quot;1&quot;, edge1_effects = &quot;1&quot;, l = &quot;0.5&quot;, nonlinear = &quot;1&quot;, sg_halfwidth = &quot;1&quot;, csr = &quot;0&quot;, e1 = &quot;0.1&quot;, bins = &quot;512&quot;, e2 = &quot;0&quot;
Q         :    CHARGE, total = &quot;1e-09&quot;

! Beamline definitions:                                                   
BLCHI     : line = (q, D0, Q1, D0, b1, D0, b2, D0, D0, b3, D0, b4, D0, Q1, D0)
</pre></div>
</div>
<p>Now, the particle tracking by <code class="docutils literal"><span class="pre">Elegant</span></code> is possible by using the
generated lattice file.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">simpath</span> <span class="o">=</span> <span class="s1">&#39;../../tests/tracking/&#39;</span>
<span class="n">elefile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">simpath</span><span class="p">,</span> <span class="s1">&#39;test.ele&#39;</span><span class="p">)</span>
<span class="n">h5out</span>   <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">simpath</span><span class="p">,</span> <span class="s1">&#39;tpout.h5&#39;</span><span class="p">)</span>
<span class="n">elesim</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">Simulator</span><span class="p">()</span>
<span class="n">elesim</span><span class="o">.</span><span class="n">setMode</span><span class="p">(</span><span class="s1">&#39;elegant&#39;</span><span class="p">)</span>
<span class="n">elesim</span><span class="o">.</span><span class="n">setScript</span><span class="p">(</span><span class="s1">&#39;runElegant.sh&#39;</span><span class="p">)</span>
<span class="n">elesim</span><span class="o">.</span><span class="n">setExec</span><span class="p">(</span><span class="s1">&#39;elegant&#39;</span><span class="p">)</span>
<span class="n">elesim</span><span class="o">.</span><span class="n">setPath</span><span class="p">(</span><span class="n">simpath</span><span class="p">)</span>
<span class="n">elesim</span><span class="o">.</span><span class="n">setInputfiles</span><span class="p">(</span><span class="n">ltefile</span><span class="o">=</span><span class="n">latfile</span><span class="p">,</span> <span class="n">elefile</span><span class="o">=</span><span class="n">elefile</span><span class="p">)</span>

<span class="n">elesim</span><span class="o">.</span><span class="n">doSimulation</span><span class="p">()</span>
</pre></div>
</div>
<p>The tracking output files could be found in <code class="docutils literal"><span class="pre">simpath</span></code>, that is in
<code class="docutils literal"><span class="pre">../../tests/tracking</span></code> folder.</p>
<p>An example of <code class="docutils literal"><span class="pre">elefile</span></code> is shown like:</p>
<div class="highlight-guess"><div class="highlight"><pre><span></span>&amp;run_setup
        lattice = test.lte,
        default_order = 2,
        use_beamline = BLCHI,
        p_central = 70
        sigma = %s.sig,
        centroid = %s.cen,
        output = %s.out,
        magnets = %s.mag
        !final = %s.fin,
        print_statistics = 1
        !parameters = %s.param
&amp;end

&amp;twiss_output
    filename = %s.twi
    matched = 0
    alpha_x = 0
    alpha_y = 0
    beta_x  = 10
    beta_y  = 10
&amp;end

&amp;run_control
        n_steps = 1
&amp;end

&amp;bunched_beam
        n_particles_per_bunch = 2500,
        one_random_bunch=0,
        emit_nx = 2.0e-6,
        emit_ny = 2.0e-6,
        beta_x = 20, alpha_x = 10,
        beta_y = 20, alpha_y = 10,
        sigma_dp = 0.001,
        sigma_s = 300e-6,
        distribution_type[0] = 3*&quot;gaussian&quot;,
        distribution_cutoff[0] = 3*3,
        symmetrize = 1,
        enforce_rms_values[0] = 1,1,1,
        !bunch = %s.bun
&amp;end
 
&amp;track &amp;end
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li><code class="docutils literal"><span class="pre">simpath</span></code>, <code class="docutils literal"><span class="pre">elefile</span></code> and <code class="docutils literal"><span class="pre">h5out</span></code> are file/folder
locations that should be defined by user, it is suggested that
make them share with the same directory root
(the value of <code class="docutils literal"><span class="pre">simpath</span></code>), thus all the output files also could
be located in a much more clearer manner.</li>
<li>Currently, <code class="docutils literal"><span class="pre">simulation</span></code> module does not automatically handle
the configuration of <code class="docutils literal"><span class="pre">elefile</span></code>, which is left for the user to
adapt correctly, expecially the <code class="docutils literal"><span class="pre">use_beamline</span></code> keyword.</li>
<li><code class="docutils literal"><span class="pre">Simulator</span></code> class is designed to have the ability to interface
with different simulation software, e.g. <code class="docutils literal"><span class="pre">Elegant</span></code>, <code class="docutils literal"><span class="pre">MAD</span></code>, etc.,
by <code class="docutils literal"><span class="pre">setMode()</span></code> method, and the regarding runtime scripts
(<code class="docutils literal"><span class="pre">setScript()</span></code> and <code class="docutils literal"><span class="pre">setExec()</span></code>), to make the <code class="docutils literal"><span class="pre">doSimulation()</span></code>
method works.</li>
</ul>
</div>
<p>Below is the <code class="docutils literal"><span class="pre">runElegant.sh</span></code> script,  it is a quite simple shell script,
to enter right directory and trig right simulation procedure, if other
simulation tool is configured by <code class="docutils literal"><span class="pre">setMode()</span></code>, this script may need
to be altered.</p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="c1">#</span>
<span class="c1"># script made for simulation.py module</span>
<span class="c1"># input parameters:</span>
<span class="c1">#  elefile: .ele file for elegant tracking, full name</span>
<span class="c1">#  simpath: simulation path for data</span>
<span class="c1">#  simexec: elegant path</span>
<span class="c1">#</span>

<span class="nv">elefile</span><span class="o">=</span><span class="nv">$1</span>
<span class="nv">simpath</span><span class="o">=</span><span class="nv">$2</span>
<span class="nv">simexec</span><span class="o">=</span><span class="nv">$3</span>

<span class="nb">cd</span> <span class="si">${</span><span class="nv">simpath</span><span class="si">}</span>
<span class="si">${</span><span class="nv">simexec</span><span class="si">}</span> <span class="si">${</span><span class="nv">elefile</span><span class="si">}</span> &gt;<span class="p">&amp;</span> /dev/null
</pre></div>
</div>
<p>The simulated data are transformed into hdf5 format, could be read and plot:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># data columns could be extracted from simulation output files, </span>
<span class="c1"># to memory or h5 files.</span>
<span class="n">data_tp</span> <span class="o">=</span> <span class="n">elesim</span><span class="o">.</span><span class="n">getOutput</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="s1">&#39;test.out&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">))</span><span class="c1">#, dump = h5out)</span>
<span class="c1">#data_tp = elesim.getOutput(file=&#39;test.out&#39;, data=(&#39;t&#39;, &#39;p&#39;), dump=h5out)</span>
<span class="n">data_sSx</span> <span class="o">=</span> <span class="n">elesim</span><span class="o">.</span><span class="n">getOutput</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="s1">&#39;test.sig&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;Sx&#39;</span><span class="p">))</span>
<span class="n">data_setax</span> <span class="o">=</span> <span class="n">elesim</span><span class="o">.</span><span class="n">getOutput</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="s1">&#39;test.twi&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;etax&#39;</span><span class="p">))</span>

<span class="c1"># visualize data</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">221</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data_tp</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span><span class="n">data_tp</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;$t\,[s]$&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;$\gamma$&#39;</span><span class="p">)</span>

<span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">222</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data_sSx</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span><span class="n">data_sSx</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;$\sigma_x\,[\mu m]$&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;$s\,[m]$&#39;</span><span class="p">)</span>

<span class="n">ax3</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">223</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data_setax</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span><span class="n">data_setax</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span><span class="s1">&#39;r-&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;$\eta_{x}\,[m]$&#39;</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;$s\,[m]$&#39;</span><span class="p">)</span>
<span class="c1"># #### Lattice layout visualization</span>

<span class="c1"># generate lattice drawing plotting objects</span>
<span class="n">ptches</span><span class="p">,</span> <span class="n">anotes</span><span class="p">,</span> <span class="n">xr</span><span class="p">,</span> <span class="n">yr</span> <span class="o">=</span> <span class="n">latline_online</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;fancy&#39;</span><span class="p">,</span> <span class="n">showfig</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="c1"># show drawing at the </span>
<span class="n">ax3t</span> <span class="o">=</span> <span class="n">ax3</span><span class="o">.</span><span class="n">twinx</span><span class="p">()</span>
<span class="p">[</span><span class="n">ax3t</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ptches</span><span class="p">]</span>
<span class="n">xr3</span> <span class="o">=</span> <span class="n">ax3</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()</span> 
<span class="n">yr3</span> <span class="o">=</span> <span class="n">ax3</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()</span> 
<span class="n">x0</span><span class="p">,</span> <span class="n">x1</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">xr</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">xr3</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">max</span><span class="p">(</span><span class="n">xr</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">xr3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">y0</span><span class="p">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">yr</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">yr3</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">max</span><span class="p">(</span><span class="n">yr</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">yr3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax3t</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">x1</span><span class="p">)</span>
<span class="n">ax3t</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">y0</span><span class="p">,</span> <span class="n">y1</span><span class="o">*</span><span class="mi">5</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">x1</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">y0</span><span class="p">,</span> <span class="n">y1</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>

<span class="c1"># show lattice drawing in a single plot</span>
<span class="n">newptches</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">MagBlock</span><span class="o">.</span><span class="n">copy_patches</span><span class="p">(</span><span class="n">ptches</span><span class="p">)</span>
<span class="c1">#for i,val in enumerate(newptches):</span>
<span class="c1">#    print id(newptches[i]), id(ptches[i])</span>
<span class="n">ax4</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">224</span><span class="p">)</span>
<span class="p">[</span><span class="n">ax4</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">newptches</span><span class="p">]</span>
<span class="n">ax4</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">x0</span><span class="o">*</span><span class="mf">1.1</span><span class="p">,</span> <span class="n">x1</span><span class="o">*</span><span class="mf">1.1</span><span class="p">)</span>
<span class="n">ax4</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">y0</span><span class="o">*</span><span class="mf">1.1</span><span class="p">,</span> <span class="n">y1</span><span class="o">*</span><span class="mf">1.1</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/test_chicane_om_1.png"><img alt="../../_images/test_chicane_om_1.png" src="../../_images/test_chicane_om_1.png" style="width: 400px;" /></a>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Method <code class="docutils literal"><span class="pre">getOutput()</span></code> of <code class="docutils literal"><span class="pre">Simulator</span></code> takes key-value
parameters, if <code class="docutils literal"><span class="pre">dump</span></code> keyword is given, then the data would
be extracted to the hdf5 file named by <code class="docutils literal"><span class="pre">dump</span></code>, or simply
assigned to a numpy array.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<dl class="last docutils">
<dt>Tips for data visualization:</dt>
<dd><ul class="first last simple">
<li>LaTeX formated string, i.e. wrapped by two <code class="docutils literal"><span class="pre">$</span></code> could make your
labels/texts/annotations more beautiful;</li>
<li>Use <code class="docutils literal"><span class="pre">matplotlib</span></code> in the OOP approach;</li>
<li>Method <code class="docutils literal"><span class="pre">twinx()</span></code> could be used to draw two y-axis, similar as <code class="docutils literal"><span class="pre">plotyy()</span></code> in MATLAB;</li>
<li><code class="docutils literal"><span class="pre">Patches</span></code> in <code class="docutils literal"><span class="pre">matplotlib</span></code> could be only used in one place, if reused is needed,
remember make a copy by <code class="docutils literal"><span class="pre">copy_patches()</span></code>.</li>
</ul>
</dd>
</dl>
</div>
<p><strong>Example of how to make use of online model</strong></p>
<p>As long as the online-model procedure is accomplished, we can manipulate
the facility from the software side, i.e. specific algorithms could be
designed to manipulate/optimize the variables that have been already
modeled, see the following simple example.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Task:</th><td class="field-body">Tunning one of the dipole strength of chicane to get the
response of the dispersive value.</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Scan parameter: final Dx v.s. angle of B1</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="n">dx</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">thetaArray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span><span class="mf">0.3</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
<span class="k">for</span> <span class="n">theta</span> <span class="ow">in</span> <span class="n">thetaArray</span><span class="p">:</span>
    <span class="n">eleb1</span><span class="o">.</span><span class="n">setConf</span><span class="p">({</span><span class="s1">&#39;angle&#39;</span><span class="p">:</span><span class="n">theta</span><span class="p">},</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;simu&#39;</span><span class="p">)</span>
    <span class="n">latins</span><span class="o">=</span><span class="n">beamline</span><span class="o">.</span><span class="n">Lattice</span><span class="p">(</span><span class="n">latline_online</span><span class="o">.</span><span class="n">getAllConfig</span><span class="p">())</span>
    <span class="n">latins</span><span class="o">.</span><span class="n">generateLatticeFile</span><span class="p">(</span><span class="n">latline_online</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">latfile</span><span class="p">)</span>
    <span class="n">elesim</span><span class="o">.</span><span class="n">doSimulation</span><span class="p">()</span>
    <span class="n">data</span><span class="o">=</span><span class="n">elesim</span><span class="o">.</span><span class="n">getOutput</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="s1">&#39;test.twi&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">([</span><span class="s1">&#39;etax&#39;</span><span class="p">]))</span>
    <span class="n">dx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">dxArray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">dx</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">thetaArray</span><span class="p">,</span> <span class="n">dxArray</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;SCAN X&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;$\eta$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>The scanned figure:</p>
<a class="reference internal image-reference" href="../../_images/test_chicane_om_2.png"><img alt="../../_images/test_chicane_om_2.png" src="../../_images/test_chicane_om_2.png" style="width: 400px;" /></a>
</div>
<div class="section" id="automatic-modeling">
<h2>Automatic Modeling<a class="headerlink" href="#automatic-modeling" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">beamline</span></code> provides the solution to automatically online-modeling the
machine, by utilizing the <code class="docutils literal"><span class="pre">Elegant</span></code> lattice file (i.e. <code class="docutils literal"><span class="pre">.lte</span></code> file).
Here is the basic idea and reasons:</p>
<blockquote>
<div><ul class="simple">
<li>Usually <code class="docutils literal"><span class="pre">.lte</span></code> file is a well-maintained lattice file that intended
to be used by particl tracking code &#8212; <code class="docutils literal"><span class="pre">Elegant</span></code>, so it could be
relied to master the machine configuration;</li>
<li>Add control EPICS directive into <code class="docutils literal"><span class="pre">.lte</span></code> file to meet additional
requirement, but still could be recognized by <code class="docutils literal"><span class="pre">Elegant</span></code>, i.e. the
<code class="docutils literal"><span class="pre">.lte</span></code> file with EPICS directive produce the same tracking results;</li>
<li>When there are thousands of machine elements to be modeled, modeling
from the <code class="docutils literal"><span class="pre">.lte</span></code> file should be much more efficient;</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>In order to model the real machine precisely, the <code class="docutils literal"><span class="pre">.lte</span></code> file
should be also precisely and kept pace with the real machine, so
maintain the <code class="docutils literal"><span class="pre">.lte</span></code> file precisely;</li>
<li>EPICS directive: append <code class="docutils literal"><span class="pre">!epics</span></code> in the element definition.</li>
</ul>
</div>
<p>How To:</p>
<p><strong>!epics directive</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="n">Q01L0</span><span class="o">:</span> <span class="n">QUAD</span><span class="o">,</span> <span class="n">L</span><span class="o">=</span><span class="mf">0.1</span><span class="o">,</span> <span class="n">K1</span><span class="o">=</span> <span class="mf">3.95</span> <span class="o">!</span><span class="n">epics</span> <span class="o">{</span><span class="s1">&#39;k1&#39;</span><span class="o">:{</span><span class="s1">&#39;pv&#39;</span><span class="o">:</span><span class="s1">&#39;sxfel:lattice:Q09&#39;</span><span class="o">,</span><span class="s1">&#39;val&#39;</span><span class="o">:</span><span class="mi">0</span><span class="o">}}</span>
<span class="n">Q02L0</span><span class="o">:</span> <span class="n">QUAD</span><span class="o">,</span> <span class="n">L</span><span class="o">=</span><span class="mf">0.2</span><span class="o">,</span> <span class="n">K1</span><span class="o">=-</span><span class="mf">3.75</span> <span class="o">!</span><span class="n">epics</span> <span class="o">{</span><span class="s1">&#39;k1&#39;</span><span class="o">:{</span><span class="s1">&#39;pv&#39;</span><span class="o">:</span><span class="s1">&#39;sxfel:lattice:Q10&#39;</span><span class="o">,</span><span class="s1">&#39;val&#39;</span><span class="o">:</span><span class="s1">&#39;&#39;</span><span class="o">}}</span>
<span class="n">Q03L0</span><span class="o">:</span> <span class="n">QUAD</span><span class="o">,</span> <span class="n">L</span><span class="o">=</span><span class="mf">0.1</span><span class="o">,</span> <span class="n">K1</span><span class="o">=</span> <span class="mf">3.95</span>
</pre></div>
</div>
<p><strong>Automatic modeling</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Demonstration to modeling accelerator with the lte file.</span>
<span class="sd">    SXFEL</span>

<span class="sd">    Author       : Tong Zhang</span>
<span class="sd">    Created      : 2016-04-12 10:11:06 AM CST</span>
<span class="sd">    Last updated : 2016-04-12 21:20:16 PM CST</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">beamline</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="c1">### STEP 1: read lattice configurations from .lte file</span>
<span class="n">ltefile</span> <span class="o">=</span> <span class="s1">&#39;sxfel_all.lte&#39;</span>
<span class="n">lpins</span>   <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">LteParser</span><span class="p">(</span><span class="n">ltefile</span><span class="p">)</span>

<span class="c1"># generate lte file with all the element-definitions regarding to beamline</span>
<span class="n">blname</span> <span class="o">=</span> <span class="s1">&#39;sxfel&#39;</span>
<span class="n">newltefile</span> <span class="o">=</span> <span class="s1">&#39;sxfel_new.lte&#39;</span>
<span class="n">latins</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">Lattice</span><span class="p">(</span><span class="n">lpins</span><span class="o">.</span><span class="n">file2json</span><span class="p">())</span>
<span class="n">latins</span><span class="o">.</span><span class="n">generateLatticeFile</span><span class="p">(</span><span class="n">blname</span><span class="p">,</span> <span class="n">newltefile</span><span class="p">)</span>

<span class="c1"># use the concise version of lte file</span>
<span class="n">newlpins</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">LteParser</span><span class="p">(</span><span class="n">newltefile</span><span class="p">)</span>
<span class="n">newlatins</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">Lattice</span><span class="p">(</span><span class="n">newlpins</span><span class="o">.</span><span class="n">file2json</span><span class="p">())</span>


<span class="c1"># demonstrate to create a new element from keyword name,</span>
<span class="c1"># there are two approaches to create:</span>
<span class="c1">#   1: use element classes from element module</span>
<span class="c1">#   2: use makeElement() method from LteParser class or Lattice class</span>

<span class="n">kw_name</span>  <span class="o">=</span> <span class="s1">&#39;Q01L0&#39;</span>

<span class="c1">## create element approach 1:</span>
<span class="c1">#kw_dict   = newlpins.getKwAsDict(kw_name)</span>
<span class="c1">#kw_type   = newlpins.getKwType(kw_name)</span>
<span class="c1">#kw_config = newlpins.getKwConfig(kw_name)</span>
<span class="c1">#kw_eobj = beamline.ElementQuad(name=kw_name, config=kw_config)</span>

<span class="c1">## create element approach 2:</span>
<span class="n">kw_eobj</span> <span class="o">=</span> <span class="n">newlpins</span><span class="o">.</span><span class="n">makeElement</span><span class="p">(</span><span class="n">kw_name</span><span class="p">)</span>
<span class="c1">#kw_eobj = newlatins.makeElement(kw_name)</span>

<span class="n">kw_eobj</span><span class="o">.</span><span class="n">printConfig</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="n">newlpins</span><span class="o">.</span><span class="n">ctrlconf_dict</span><span class="p">[</span><span class="n">kw_name</span><span class="p">]</span>

<span class="c1">## show element drawing:</span>
<span class="c1">#kw_eobj.setDraw(mode=&#39;fancy&#39;) # or mode=&#39;plain&#39;</span>
<span class="c1">#kw_eobj.showDraw()</span>

<span class="c1">### STEP 2: initialise all element objects for beamline model</span>
<span class="c1">#for ele in beamline.Models.flatten(newlatins.getAllKws()):</span>
<span class="n">latmodel</span> <span class="o">=</span> <span class="n">beamline</span><span class="o">.</span><span class="n">Models</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">blname</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;simu&#39;</span><span class="p">)</span>
<span class="n">ele_name_list</span> <span class="o">=</span> <span class="n">newlatins</span><span class="o">.</span><span class="n">getElementList</span><span class="p">(</span><span class="n">blname</span><span class="p">)</span>
<span class="n">ele_eobj_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">ele</span> <span class="ow">in</span> <span class="n">ele_name_list</span><span class="p">:</span>
    <span class="n">eobj</span> <span class="o">=</span> <span class="n">newlatins</span><span class="o">.</span><span class="n">makeElement</span><span class="p">(</span><span class="n">ele</span><span class="p">)</span>
    <span class="n">ele_eobj_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">eobj</span><span class="p">)</span>

<span class="n">latmodel</span><span class="o">.</span><span class="n">addElement</span><span class="p">(</span><span class="o">*</span><span class="n">ele_eobj_list</span><span class="p">)</span>
<span class="c1"># show all configurations | pjson</span>
<span class="c1">#print latmodel.getAllConfig()</span>

<span class="c1"># find element by name</span>
<span class="n">Q_list</span> <span class="o">=</span> <span class="n">latmodel</span><span class="o">.</span><span class="n">getElementsByName</span><span class="p">(</span><span class="n">kw_name</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>

<span class="c1"># add other configurations, e.g. control configurations, etc.</span>
<span class="n">Q_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">printConfig</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>

<span class="c1"># csrcsben example: </span>
<span class="n">B1LH_list</span> <span class="o">=</span> <span class="n">latmodel</span><span class="o">.</span><span class="n">getElementsByName</span><span class="p">(</span><span class="s1">&#39;B1LH&#39;</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
<span class="n">B1LH_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">printConfig</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>

</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li><code class="docutils literal"><span class="pre">LteParser()</span></code> is a class that could parse <code class="docutils literal"><span class="pre">.lte</span></code> file;</li>
<li><code class="docutils literal"><span class="pre">Lattice()</span></code> is a class that could model the lattice, with
the input of JSON string that generared by <code class="docutils literal"><span class="pre">LteParser()</span></code>;</li>
<li>Do <code class="docutils literal"><span class="pre">LteParser()</span></code> &#8212; <code class="docutils literal"><span class="pre">Lattice()</span></code> twice is to generate
clean <code class="docutils literal"><span class="pre">.lte</span></code> file that only contain necessary elements;</li>
<li>Pay attention to the <code class="docutils literal"><span class="pre">makeElement()</span></code> method, which should be
invoked to model all the elements automatically;</li>
<li><code class="docutils literal"><span class="pre">getElementList()</span></code> to get the element list that comprising
the seleced beamline keyword, and build lattice model by
<code class="docutils literal"><span class="pre">addElement()</span></code> method.</li>
</ul>
</div>
<p>The reformated <code class="docutils literal"><span class="pre">.lte</span></code> file:</p>
<div class="highlight-guess"><div class="highlight"><pre><span></span>!-------------------------------------------------------------------------!
! This file is automatically generated by &#39;generateLatticeFile()&#39; method, !
!                 could be used as elegant lattice file.                  !
!                        ------------------------                         !
!               Author: Tong Zhang (zhangtong@sinap.ac.cn)                !
!                 Generated Date: 2016-08-24 10:35:47 CST                 !
!-------------------------------------------------------------------------!

! EPICS control definitions:                                               
<span class="hll">!!epics Q01L0     :     {&quot;k1&quot;: {&quot;pv&quot;: &quot;sxfel:lattice:Q09&quot;, &quot;val&quot;: 0}}
</span><span class="hll">!!epics Q02L0     :    {&quot;k1&quot;: {&quot;pv&quot;: &quot;sxfel:lattice:Q10&quot;, &quot;val&quot;: &quot;&quot;}}
</span>
! Element definitions:                                                    
AC1O1L2_1 :      RFCW, lsc = &quot;1.0&quot;, cell_length = &quot;0.020994&quot;, volt = &quot;57638600.0&quot;, trwakefile = &quot;cband_T_4pi5_1mm.sdds&quot;, lsc_high_frequency_cutoff0 = &quot;0.25&quot;, lsc_high_frequency_cutoff1 = &quot;0.3&quot;, smoothing = &quot;1.0&quot;, zwakefile = &quot;cband_L_4pi5_1mm.sdds&quot;, END2_FOCUS = &quot;1.0&quot;, wzcolumn = &quot;W&quot;, END1_FOCUS = &quot;1.0&quot;, n_kicks = &quot;20.0&quot;, interpolate = &quot;1.0&quot;, lsc_interpolate = &quot;1.0&quot;, phase = &quot;104.0&quot;, freq = &quot;5712000000.0&quot;, wxcolumn = &quot;W&quot;, change_p0 = &quot;1.0&quot;, wycolumn = &quot;W&quot;, l = &quot;1.68568&quot;, lsc_bins = &quot;512.0&quot;, tcolumn = &quot;t&quot;
AC1O1L2_2 :      RFCW, lsc = &quot;1.0&quot;, cell_length = &quot;0.020994&quot;, volt = &quot;57638600.0&quot;, trwakefile = &quot;cband_T_4pi5_1mm.sdds&quot;, lsc_high_frequency_cutoff0 = &quot;0.25&quot;, lsc_high_frequency_cutoff1 = &quot;0.3&quot;, smoothing = &quot;1.0&quot;, zwakefile = &quot;cband_L_4pi5_1mm.sdds&quot;, END2_FOCUS = &quot;1.0&quot;, wzcolumn = &quot;W&quot;, END1_FOCUS = &quot;1.0&quot;, n_kicks = &quot;20.0&quot;, interpolate = &quot;1.0&quot;, lsc_interpolate = &quot;1.0&quot;, phase = &quot;104.0&quot;, freq = &quot;5712000000.0&quot;, wxcolumn = &quot;W&quot;, change_p0 = &quot;1.0&quot;, wycolumn = &quot;W&quot;, l = &quot;1.68568&quot;, lsc_bins = &quot;512.0&quot;, tcolumn = &quot;t&quot;
AC1O1L3_1 :      RFCW, lsc = &quot;1.0&quot;, cell_length = &quot;0.020994&quot;, volt = &quot;57638600.0&quot;, trwakefile = &quot;cband_T_4pi5_1mm.sdds&quot;, lsc_high_frequency_cutoff0 = &quot;0.25&quot;, lsc_high_frequency_cutoff1 = &quot;0.3&quot;, smoothing = &quot;1.0&quot;, zwakefile = &quot;cband_L_4pi5_1mm.sdds&quot;, END2_FOCUS = &quot;1.0&quot;, wzcolumn = &quot;W&quot;, END1_FOCUS = &quot;1.0&quot;, n_kicks = &quot;20.0&quot;, interpolate = &quot;1.0&quot;, lsc_interpolate = &quot;1.0&quot;, phase = &quot;108.0&quot;, freq = &quot;5712000000.0&quot;, wxcolumn = &quot;W&quot;, change_p0 = &quot;1.0&quot;, wycolumn = &quot;W&quot;, l = &quot;1.68568&quot;, lsc_bins = &quot;512.0&quot;, tcolumn = &quot;t&quot;
AC1O1L3_2 :      RFCW, lsc = &quot;1.0&quot;, cell_length = &quot;0.020994&quot;, volt = &quot;57638600.0&quot;, trwakefile = &quot;cband_T_4pi5_1mm.sdds&quot;, lsc_high_frequency_cutoff0 = &quot;0.25&quot;, lsc_high_frequency_cutoff1 = &quot;0.3&quot;, smoothing = &quot;1.0&quot;, zwakefile = &quot;cband_L_4pi5_1mm.sdds&quot;, END2_FOCUS = &quot;1.0&quot;, wzcolumn = &quot;W&quot;, END1_FOCUS = &quot;1.0&quot;, n_kicks = &quot;20.0&quot;, interpolate = &quot;1.0&quot;, lsc_interpolate = &quot;1.0&quot;, phase = &quot;108.0&quot;, freq = &quot;5712000000.0&quot;, wxcolumn = &quot;W&quot;, change_p0 = &quot;1.0&quot;, wycolumn = &quot;W&quot;, l = &quot;1.68568&quot;, lsc_bins = &quot;512.0&quot;, tcolumn = &quot;t&quot;
AC1O1L3_3 :      RFCW, lsc = &quot;1.0&quot;, cell_length = &quot;0.020994&quot;, volt = &quot;57638600.0&quot;, trwakefile = &quot;cband_T_4pi5_1mm.sdds&quot;, lsc_high_frequency_cutoff0 = &quot;0.25&quot;, lsc_high_frequency_cutoff1 = &quot;0.3&quot;, smoothing = &quot;1.0&quot;, zwakefile = &quot;cband_L_4pi5_1mm.sdds&quot;, END2_FOCUS = &quot;1.0&quot;, wzcolumn = &quot;W&quot;, END1_FOCUS = &quot;1.0&quot;, n_kicks = &quot;20.0&quot;, interpolate = &quot;1.0&quot;, lsc_interpolate = &quot;1.0&quot;, phase = &quot;108.0&quot;, freq = &quot;5712000000.0&quot;, wxcolumn = &quot;W&quot;, change_p0 = &quot;1.0&quot;, wycolumn = &quot;W&quot;, l = &quot;1.68568&quot;, lsc_bins = &quot;512.0&quot;, tcolumn = &quot;t&quot;
AC1O1L3_4 :      RFCW, lsc = &quot;1.0&quot;, cell_length = &quot;0.020994&quot;, volt = &quot;57638600.0&quot;, trwakefile = &quot;cband_T_4pi5_1mm.sdds&quot;, lsc_high_frequency_cutoff0 = &quot;0.25&quot;, lsc_high_frequency_cutoff1 = &quot;0.3&quot;, smoothing = &quot;1.0&quot;, zwakefile = &quot;cband_L_4pi5_1mm.sdds&quot;, END2_FOCUS = &quot;1.0&quot;, wzcolumn = &quot;W&quot;, END1_FOCUS = &quot;1.0&quot;, n_kicks = &quot;20.0&quot;, interpolate = &quot;1.0&quot;, lsc_interpolate = &quot;1.0&quot;, phase = &quot;108.0&quot;, freq = &quot;5712000000.0&quot;, wxcolumn = &quot;W&quot;, change_p0 = &quot;1.0&quot;, wycolumn = &quot;W&quot;, l = &quot;1.68568&quot;, lsc_bins = &quot;512.0&quot;, tcolumn = &quot;t&quot;
AS1O1L1   :      RFCW, lsc = &quot;1.0&quot;, cell_length = &quot;0.03499&quot;, volt = &quot;45136800.0&quot;, trwakefile = &quot;sband_T_10mm.sdds&quot;, lsc_high_frequency_cutoff0 = &quot;0.25&quot;, lsc_high_frequency_cutoff1 = &quot;0.3&quot;, smoothing = &quot;1.0&quot;, zwakefile = &quot;sband_L_10mm.sdds&quot;, END2_FOCUS = &quot;1.0&quot;, wzcolumn = &quot;W&quot;, END1_FOCUS = &quot;1.0&quot;, n_kicks = &quot;20.0&quot;, interpolate = &quot;1.0&quot;, lsc_interpolate = &quot;1.0&quot;, phase = &quot;37.4&quot;, freq = &quot;2856000000.0&quot;, wxcolumn = &quot;W&quot;, change_p0 = &quot;1.0&quot;, wycolumn = &quot;W&quot;, l = &quot;2.974132&quot;, lsc_bins = &quot;512.0&quot;, tcolumn = &quot;t&quot;
AX1O1L1   :      RFCW, lsc = &quot;1.0&quot;, cell_length = &quot;0.010934&quot;, volt = &quot;13698400.0&quot;, trwakefile = &quot;xband_T1080_T_10mm.sdds&quot;, lsc_high_frequency_cutoff0 = &quot;0.25&quot;, lsc_high_frequency_cutoff1 = &quot;0.3&quot;, smoothing = &quot;1.0&quot;, zwakefile = &quot;xband_T1080_L_10mm.sdds&quot;, END2_FOCUS = &quot;1.0&quot;, wzcolumn = &quot;W&quot;, END1_FOCUS = &quot;1.0&quot;, n_kicks = &quot;20.0&quot;, interpolate = &quot;1.0&quot;, lsc_interpolate = &quot;1.0&quot;, phase = &quot;270.0&quot;, freq = &quot;11424000000.0&quot;, wxcolumn = &quot;W&quot;, change_p0 = &quot;1.0&quot;, wycolumn = &quot;W&quot;, l = &quot;0.944578&quot;, lsc_bins = &quot;512.0&quot;, tcolumn = &quot;t&quot;
B1BC1     :  CSRCSBEN, hgap = &quot;0.015&quot;, integration_order = &quot;4.0&quot;, nonlinear = &quot;1.0&quot;, angle = &quot;0.061510638828&quot;, n_kicks = &quot;100.0&quot;, l = &quot;0.300189261474&quot;, edge1_effects = &quot;1.0&quot;, edge2_effects = &quot;1.0&quot;, block_csr = &quot;0.0&quot;, sg_halfwidth = &quot;1.0&quot;, e2 = &quot;0.061510638828&quot;, e1 = &quot;0.0&quot;, bins = &quot;512.0&quot;, csr = &quot;1.0&quot;
B1LH      :  CSRCSBEN, hgap = &quot;0.015&quot;, integration_order = &quot;4.0&quot;, nonlinear = &quot;1.0&quot;, angle = &quot;0.0872664625997&quot;, n_kicks = &quot;100.0&quot;, l = &quot;0.200254073567&quot;, edge1_effects = &quot;1.0&quot;, edge2_effects = &quot;1.0&quot;, block_csr = &quot;0.0&quot;, sg_halfwidth = &quot;1.0&quot;, e2 = &quot;0.0872664625997&quot;, e1 = &quot;0.0&quot;, bins = &quot;512.0&quot;, csr = &quot;1.0&quot;
B2BC1     :  CSRCSBEN, hgap = &quot;0.015&quot;, integration_order = &quot;4.0&quot;, nonlinear = &quot;1.0&quot;, angle = &quot;-0.061510638828&quot;, n_kicks = &quot;100.0&quot;, l = &quot;0.300189261474&quot;, edge1_effects = &quot;1.0&quot;, edge2_effects = &quot;1.0&quot;, block_csr = &quot;0.0&quot;, sg_halfwidth = &quot;1.0&quot;, e2 = &quot;0.0&quot;, e1 = &quot;-0.061510638828&quot;, bins = &quot;512.0&quot;, csr = &quot;1.0&quot;
B2LH      :  CSRCSBEN, hgap = &quot;0.015&quot;, integration_order = &quot;4.0&quot;, nonlinear = &quot;1.0&quot;, angle = &quot;-0.0872664625997&quot;, n_kicks = &quot;100.0&quot;, l = &quot;0.200254073567&quot;, edge1_effects = &quot;1.0&quot;, edge2_effects = &quot;1.0&quot;, block_csr = &quot;0.0&quot;, sg_halfwidth = &quot;1.0&quot;, e2 = &quot;0.0&quot;, e1 = &quot;-0.0872664625997&quot;, bins = &quot;512.0&quot;, csr = &quot;1.0&quot;
B3BC1     :  CSRCSBEN, hgap = &quot;0.015&quot;, integration_order = &quot;4.0&quot;, nonlinear = &quot;1.0&quot;, angle = &quot;-0.061510638828&quot;, n_kicks = &quot;100.0&quot;, l = &quot;0.300189261474&quot;, edge1_effects = &quot;1.0&quot;, edge2_effects = &quot;1.0&quot;, block_csr = &quot;0.0&quot;, sg_halfwidth = &quot;1.0&quot;, e2 = &quot;-0.061510638828&quot;, e1 = &quot;0.0&quot;, bins = &quot;512.0&quot;, csr = &quot;1.0&quot;
B3LH      :  CSRCSBEN, hgap = &quot;0.015&quot;, integration_order = &quot;4.0&quot;, nonlinear = &quot;1.0&quot;, angle = &quot;-0.0872664625997&quot;, n_kicks = &quot;100.0&quot;, l = &quot;0.200254073567&quot;, edge1_effects = &quot;1.0&quot;, edge2_effects = &quot;1.0&quot;, block_csr = &quot;0.0&quot;, sg_halfwidth = &quot;1.0&quot;, e2 = &quot;-0.0872664625997&quot;, e1 = &quot;0.0&quot;, bins = &quot;512.0&quot;, csr = &quot;1.0&quot;
B4BC1     :  CSRCSBEN, hgap = &quot;0.015&quot;, integration_order = &quot;4.0&quot;, nonlinear = &quot;1.0&quot;, angle = &quot;0.061510638828&quot;, n_kicks = &quot;100.0&quot;, l = &quot;0.300189261474&quot;, edge1_effects = &quot;1.0&quot;, edge2_effects = &quot;1.0&quot;, block_csr = &quot;0.0&quot;, sg_halfwidth = &quot;1.0&quot;, e2 = &quot;0.0&quot;, e1 = &quot;0.061510638828&quot;, bins = &quot;512.0&quot;, csr = &quot;1.0&quot;
B4LH      :  CSRCSBEN, hgap = &quot;0.015&quot;, integration_order = &quot;4.0&quot;, nonlinear = &quot;1.0&quot;, angle = &quot;0.0872664625997&quot;, n_kicks = &quot;100.0&quot;, l = &quot;0.200254073567&quot;, edge1_effects = &quot;1.0&quot;, edge2_effects = &quot;1.0&quot;, block_csr = &quot;0.0&quot;, sg_halfwidth = &quot;1.0&quot;, e2 = &quot;0.0&quot;, e1 = &quot;0.0872664625997&quot;, bins = &quot;512.0&quot;, csr = &quot;1.0&quot;
BAM01BI1  :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.15&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
BAM01BI3  :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.15&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
BAM01L0   :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.15&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
BLL01     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.07&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
BLL02     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.09&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
BLL03     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.18405&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
BLL04     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.09982&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
BPM01BC1  :      MONI, l = &quot;0.075&quot;
BPM01BC2  :      MONI, l = &quot;0.075&quot;
BPM01BI1  :      MONI, l = &quot;0.075&quot;
BPM01BI2  :      MONI, l = &quot;0.075&quot;
BPM01BI3  :      MONI, l = &quot;0.075&quot;
BPM01L0   :      MONI, L = &quot;0.075&quot;
BPM01L1   :      MONI, l = &quot;0.075&quot;
BPM01L2   :      MONI, l = &quot;0.075&quot;
BPM01L3   :      MONI, l = &quot;0.075&quot;
BPM02BC1  :      MONI, l = &quot;0.2&quot;
BPM02BC2  :      MONI, l = &quot;0.075&quot;
BPM02BI1  :      MONI, l = &quot;0.075&quot;
BPM02BI3  :      MONI, l = &quot;0.075&quot;
BPM02L0   :      MONI, L = &quot;0.15&quot;
BPM02L2   :      MONI, l = &quot;0.075&quot;
BPM02L3   :      MONI, l = &quot;0.075&quot;
BPM03BI1  :      MONI, l = &quot;0.075&quot;
BPM03BI3  :      MONI, l = &quot;0.075&quot;
BPM03L0   :      MONI, L = &quot;0.075&quot;
BPM03L3   :      MONI, l = &quot;0.075&quot;
BPM04BI1  :      MONI, l = &quot;0.075&quot;
BPM04L3   :      MONI, l = &quot;0.075&quot;
BPM05BI1  :      MONI, l = &quot;0.075&quot;
BPM05L3   :      MONI, l = &quot;0.075&quot;
BPM06BI1  :      MONI, l = &quot;0.075&quot;
BPM06L3   :      MONI, l = &quot;0.075&quot;
BPM07BI1  :      MONI, l = &quot;0.075&quot;
BPM07L3   :      MONI, l = &quot;0.075&quot;
C         :    CHARGE, total = &quot;5e-10&quot;
CDR01BC1  :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.4&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
CRR01BC1  :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR01BC2  :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR01BI1  :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR01BI2  :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR01BI3  :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR01L0   :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR01L1   :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR01L2   :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR01L3   :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR02BC1  :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR02BC2  :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR02BI1  :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR02BI3  :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR02L0   :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR02L2   :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR02L3   :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR03BC1  :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR03BI1  :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR03BI3  :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR03L3   :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR04BI1  :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR04L3   :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR05BI1  :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR05L3   :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR06BI1  :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR06L3   :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR07BI1  :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
CRR07L3   :    KICKER, VKICK = &quot;0.0&quot;, L = &quot;0.1&quot;, HKICK = &quot;0.0&quot;
D01BC1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D01BC2    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D01BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D01BI2    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D01BI3    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D01L0     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.534&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D01L1     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D01L2     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;1.598&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D01L3     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D02BC1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.2&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D02BC2    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.2&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D02BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.2&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D02BI2    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.2&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D02BI3    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.6&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D02L0     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D02L1     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D02L2     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D02L3     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D03BC1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D03BC2    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D03BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D03BI2    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D03BI3    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D03L0     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D03L1     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D03L2     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D03L3     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D04BC1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.18&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D04BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D04BI2    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.515&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D04BI3    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D04DBC2   :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.6055&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D04L0     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D04L1     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D04L3     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D05BC1    :   CSRDRIF, use_stupakov = &quot;1.0&quot;, dz = &quot;0.01&quot;, l = &quot;0.1&quot;, csr = &quot;1.0&quot;
D05BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.2&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D05BI2    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D05BI3    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.6&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D05DBC2   :   CSRDRIF, use_stupakov = &quot;1.0&quot;, dz = &quot;0.01&quot;, l = &quot;0.613&quot;, csr = &quot;1.0&quot;
D05L0     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.2&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D05L3     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D06BC1    :   CSRDRIF, use_stupakov = &quot;1.0&quot;, dz = &quot;0.01&quot;, l = &quot;0.77&quot;, csr = &quot;1.0&quot;
D06BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D06BI3    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D06L0     :   CSRDRIF, use_stupakov = &quot;1.0&quot;, dz = &quot;0.01&quot;, l = &quot;0.250954959386&quot;, csr = &quot;1.0&quot;
D06L3     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D07BC1    :   CSRDRIF, use_stupakov = &quot;1.0&quot;, dz = &quot;0.01&quot;, l = &quot;0.2&quot;, csr = &quot;1.0&quot;
D07BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.305&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D07BI3    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;2.868&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D07L0     :   CSRDRIF, use_stupakov = &quot;1.0&quot;, dz = &quot;0.01&quot;, l = &quot;0.05&quot;, csr = &quot;1.0&quot;
D07L3     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D08BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D08DBC1CSR:   CSRDRIF, use_stupakov = &quot;1.0&quot;, dz = &quot;0.01&quot;, l = &quot;0.329909487823&quot;, csr = &quot;1.0&quot;
D08DBC1LSC:  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.0&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, LEFFECTIVE = &quot;0.480909487823&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D08L0     :   CSRDRIF, use_stupakov = &quot;1.0&quot;, dz = &quot;0.01&quot;, l = &quot;0.1&quot;, csr = &quot;1.0&quot;
D08L3     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D09BC1    :   CSRDRIF, use_stupakov = &quot;1.0&quot;, dz = &quot;0.01&quot;, l = &quot;0.1&quot;, csr = &quot;1.0&quot;
D09BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.8&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D09L0     :   CSRDRIF, use_stupakov = &quot;1.0&quot;, dz = &quot;0.01&quot;, l = &quot;0.250954959386&quot;, csr = &quot;1.0&quot;
D09L3     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D10BC1    :   CSRDRIF, use_stupakov = &quot;1.0&quot;, dz = &quot;0.01&quot;, l = &quot;0.1&quot;, csr = &quot;1.0&quot;
D10BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.2&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D10L0     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.2&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D10L3     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D11BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D11L0     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D11L3     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D12BC1CSR :   CSRDRIF, use_stupakov = &quot;1.0&quot;, dz = &quot;0.01&quot;, l = &quot;0.1&quot;, csr = &quot;1.0&quot;
D12BC1LSC :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.0&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, LEFFECTIVE = &quot;1.08&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D12BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.265&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D12L0     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D12L3     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D13BC1    :   CSRDRIF, use_stupakov = &quot;1.0&quot;, dz = &quot;0.01&quot;, l = &quot;0.1&quot;, csr = &quot;1.0&quot;
D13BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D13L0     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D13L3     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D14BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D14DBC1CSR:   CSRDRIF, use_stupakov = &quot;1.0&quot;, dz = &quot;0.01&quot;, l = &quot;0.329909487823&quot;, csr = &quot;1.0&quot;
D14DBC1LSC:  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.0&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, LEFFECTIVE = &quot;0.480909487823&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D14L0     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D14L3     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D15BC1    :   CSRDRIF, use_stupakov = &quot;1.0&quot;, dz = &quot;0.01&quot;, l = &quot;0.2&quot;, csr = &quot;1.0&quot;
D15BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D15L0     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D16BC1    :   CSRDRIF, use_stupakov = &quot;1.0&quot;, dz = &quot;0.01&quot;, l = &quot;0.77&quot;, csr = &quot;1.0&quot;
D16BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D16L0     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.2&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D17BC1    :   CSRDRIF, use_stupakov = &quot;1.0&quot;, dz = &quot;0.01&quot;, l = &quot;0.1&quot;, csr = &quot;1.0&quot;
D17BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.265&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D17L0     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.67&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D18BC1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.18&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D18BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.4&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D19BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D20BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D21BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.4&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
D22BI1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.1&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
DACL2     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;1.78963&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
DACL3     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;1.78963&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
DAWGC1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.051975&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
DAWGC2    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.051975&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
DAWGS     :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.047934&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
DAWGX1    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.067711&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
DAWGX2    :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.067711&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
DBEND01BI1:  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.8&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
DBEND01BI3:  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;2.0&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
DBEND01L0 :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.8&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
DBPM      :     DRIFT, l = &quot;0.2&quot;
DBPMLSC   :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.0&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, LEFFECTIVE = &quot;0.2&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
DCRR      :     DRIFT, l = &quot;0.025&quot;
DFODO1BI1 :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.215&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
DFODO2BI1 :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.7&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
DVALVBLL  :     DRIFT, L = &quot;0.142&quot;
DZERO     :     DRIFT, l = &quot;0.0&quot;
ICT01BI1  :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.15&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
ICT01BI3  :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.15&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
ICT01L0   :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.15&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
L0WAKE    :      WAKE, N_BINS = &quot;0.0&quot;, wColumn = &quot;W&quot;, interpolate = &quot;1.0&quot;, SMOOTHING = &quot;1.0&quot;, factor = &quot;172.0&quot;, tColumn = &quot;t&quot;, INPUTFILE = &quot;sband_L_10mm.sdds&quot;
LM        :     DRIFT, l = &quot;0.5&quot;
LTU_BC11  :  CSRCSBEN, HGAP = &quot;0.015&quot;, integration_order = &quot;4.0&quot;, nonlinear = &quot;1.0&quot;, ANGLE = &quot;0.0546288055874&quot;, n_kicks = &quot;10.0&quot;, output_file = &quot;%s.LTU_BC11.csr&quot;, L = &quot;0.2&quot;, EDGE1_EFFECTS = &quot;1.0&quot;, EDGE2_EFFECTS = &quot;1.0&quot;, output_interval = &quot;10.0&quot;, sg_halfwidth = &quot;1.0&quot;, isr = &quot;0.0&quot;, E2 = &quot;0.0546288055874&quot;, E1 = &quot;0.0&quot;, bins = &quot;600.0&quot;, csr = &quot;0.0&quot;
LTU_BC12  :  CSRCSBEN, HGAP = &quot;0.015&quot;, integration_order = &quot;4.0&quot;, nonlinear = &quot;1.0&quot;, ANGLE = &quot;-0.0546288055874&quot;, n_kicks = &quot;10.0&quot;, output_file = &quot;%s.LTU_BC12.csr&quot;, L = &quot;0.2&quot;, EDGE1_EFFECTS = &quot;1.0&quot;, EDGE2_EFFECTS = &quot;1.0&quot;, output_interval = &quot;10.0&quot;, sg_halfwidth = &quot;1.0&quot;, isr = &quot;0.0&quot;, E2 = &quot;0.0&quot;, E1 = &quot;-0.0546288055874&quot;, bins = &quot;600.0&quot;, csr = &quot;0.0&quot;
LTU_BC13  :  CSRCSBEN, HGAP = &quot;0.015&quot;, integration_order = &quot;4.0&quot;, nonlinear = &quot;1.0&quot;, ANGLE = &quot;-0.0546288055874&quot;, n_kicks = &quot;10.0&quot;, output_file = &quot;%s.LTU_BC13.csr&quot;, L = &quot;0.2&quot;, EDGE1_EFFECTS = &quot;1.0&quot;, EDGE2_EFFECTS = &quot;1.0&quot;, output_interval = &quot;10.0&quot;, sg_halfwidth = &quot;1.0&quot;, isr = &quot;0.0&quot;, E2 = &quot;-0.0546288055874&quot;, E1 = &quot;0.0&quot;, bins = &quot;600.0&quot;, csr = &quot;0.0&quot;
LTU_BC14  :  CSRCSBEN, HGAP = &quot;0.015&quot;, integration_order = &quot;4.0&quot;, nonlinear = &quot;1.0&quot;, ANGLE = &quot;0.0546288055874&quot;, n_kicks = &quot;10.0&quot;, output_file = &quot;%s.LTU_BC14.csr&quot;, L = &quot;0.2&quot;, EDGE1_EFFECTS = &quot;1.0&quot;, EDGE2_EFFECTS = &quot;1.0&quot;, output_interval = &quot;10.0&quot;, sg_halfwidth = &quot;1.0&quot;, isr = &quot;0.0&quot;, E2 = &quot;0.0&quot;, E1 = &quot;0.0546288055874&quot;, bins = &quot;600.0&quot;, csr = &quot;0.0&quot;
LTU_BC21  :  CSRCSBEN, HGAP = &quot;0.015&quot;, integration_order = &quot;4.0&quot;, nonlinear = &quot;1.0&quot;, ANGLE = &quot;0.010471975512&quot;, n_kicks = &quot;10.0&quot;, output_file = &quot;%s.LTU_BC21.csr&quot;, L = &quot;0.2&quot;, EDGE1_EFFECTS = &quot;1.0&quot;, EDGE2_EFFECTS = &quot;1.0&quot;, output_interval = &quot;10.0&quot;, sg_halfwidth = &quot;1.0&quot;, isr = &quot;0.0&quot;, E2 = &quot;0.010471975512&quot;, E1 = &quot;0.0&quot;, bins = &quot;600.0&quot;, csr = &quot;0.0&quot;
LTU_BC22  :  CSRCSBEN, HGAP = &quot;0.015&quot;, integration_order = &quot;4.0&quot;, nonlinear = &quot;1.0&quot;, ANGLE = &quot;-0.010471975512&quot;, n_kicks = &quot;10.0&quot;, output_file = &quot;%s.LTU_BC22.csr&quot;, L = &quot;0.2&quot;, EDGE1_EFFECTS = &quot;1.0&quot;, EDGE2_EFFECTS = &quot;1.0&quot;, output_interval = &quot;10.0&quot;, sg_halfwidth = &quot;1.0&quot;, isr = &quot;0.0&quot;, E2 = &quot;0.0&quot;, E1 = &quot;-0.010471975512&quot;, bins = &quot;600.0&quot;, csr = &quot;0.0&quot;
LTU_BC23  :  CSRCSBEN, HGAP = &quot;0.015&quot;, integration_order = &quot;4.0&quot;, nonlinear = &quot;1.0&quot;, ANGLE = &quot;-0.010471975512&quot;, n_kicks = &quot;10.0&quot;, output_file = &quot;%s.LTU_BC23.csr&quot;, L = &quot;0.2&quot;, EDGE1_EFFECTS = &quot;1.0&quot;, EDGE2_EFFECTS = &quot;1.0&quot;, output_interval = &quot;10.0&quot;, sg_halfwidth = &quot;1.0&quot;, isr = &quot;0.0&quot;, E2 = &quot;-0.010471975512&quot;, E1 = &quot;0.0&quot;, bins = &quot;600.0&quot;, csr = &quot;0.0&quot;
LTU_BC24  :  CSRCSBEN, HGAP = &quot;0.015&quot;, integration_order = &quot;4.0&quot;, nonlinear = &quot;1.0&quot;, ANGLE = &quot;0.010471975512&quot;, n_kicks = &quot;10.0&quot;, output_file = &quot;%s.LTU_BC24.csr&quot;, L = &quot;0.2&quot;, EDGE1_EFFECTS = &quot;1.0&quot;, EDGE2_EFFECTS = &quot;1.0&quot;, output_interval = &quot;10.0&quot;, sg_halfwidth = &quot;1.0&quot;, isr = &quot;0.0&quot;, E2 = &quot;0.0&quot;, E1 = &quot;0.010471975512&quot;, bins = &quot;600.0&quot;, csr = &quot;0.0&quot;
LTU_CBD11 :   CSRDRIF, N_kicks = &quot;1.0&quot;, L = &quot;0.7&quot;, USE_STUPAKOV = &quot;1.0&quot;
LTU_CBD12 :   CSRDRIF, N_kicks = &quot;1.0&quot;, L = &quot;0.6&quot;, USE_STUPAKOV = &quot;1.0&quot;
LTU_CBD13 :   CSRDRIF, N_kicks = &quot;1.0&quot;, L = &quot;0.7&quot;, USE_STUPAKOV = &quot;1.0&quot;
LTU_CBD21 :   CSRDRIF, N_kicks = &quot;1.0&quot;, L = &quot;0.7&quot;, USE_STUPAKOV = &quot;1.0&quot;
LTU_CBD22 :   CSRDRIF, N_kicks = &quot;1.0&quot;, L = &quot;0.6&quot;, USE_STUPAKOV = &quot;1.0&quot;
LTU_CBD23 :   CSRDRIF, N_kicks = &quot;1.0&quot;, L = &quot;0.7&quot;, USE_STUPAKOV = &quot;1.0&quot;
LTU_L0    :      DRIF, L = &quot;0.54&quot;
LTU_L1    :      DRIF, L = &quot;0.47&quot;
LTU_L10   :      DRIF, L = &quot;3.575&quot;
LTU_L11   :      DRIF, L = &quot;0.839&quot;
LTU_L12   :      DRIF, L = &quot;3.84&quot;
LTU_L13   :      DRIF, L = &quot;3.84&quot;
LTU_L14   :      DRIF, L = &quot;3.84&quot;
LTU_L15   :      DRIF, L = &quot;3.84&quot;
LTU_L16   :      DRIF, L = &quot;0.865&quot;
LTU_L17   :      DRIF, L = &quot;0.9&quot;
LTU_L18   :      DRIF, L = &quot;0.775&quot;
LTU_L19   :      DRIF, L = &quot;0.91&quot;
LTU_L2    :      DRIF, L = &quot;3.069&quot;
LTU_L20   :      DRIF, L = &quot;3.004&quot;
LTU_L21   :      DRIF, L = &quot;0.775&quot;
LTU_L22   :      DRIF, L = &quot;0.839&quot;
LTU_L3    :      DRIF, L = &quot;3.069&quot;
LTU_L4    :      DRIF, L = &quot;0.55&quot;
LTU_L5    :      DRIF, L = &quot;0.6&quot;
LTU_L6    :      DRIF, L = &quot;12.642&quot;
LTU_L7    :      DRIF, L = &quot;0.55&quot;
LTU_L8    :      DRIF, L = &quot;0.6&quot;
LTU_L9    :      DRIF, L = &quot;2.594&quot;
LTU_Q0    :      QUAD, K1 = &quot;-2.04092178418&quot;, L = &quot;0.1&quot;
LTU_Q1    :      QUAD, K1 = &quot;-3.92247060497&quot;, L = &quot;0.1&quot;
LTU_Q10   :      QUAD, K1 = &quot;-0.168396320285&quot;, L = &quot;0.1&quot;
LTU_Q11   :      QUAD, K1 = &quot;0.795456339652&quot;, L = &quot;0.1&quot;
LTU_Q12   :      QUAD, K1 = &quot;0.631804583095&quot;, L = &quot;0.1&quot;
LTU_Q13   :      QUAD, K1 = &quot;-2.0&quot;, L = &quot;0.1&quot;
LTU_Q14   :      QUAD, K1 = &quot;2.0&quot;, L = &quot;0.1&quot;
LTU_Q15   :      QUAD, K1 = &quot;-2.0&quot;, L = &quot;0.1&quot;
LTU_Q16   :      QUAD, K1 = &quot;1.24927520914&quot;, L = &quot;0.1&quot;
LTU_Q17   :      QUAD, K1 = &quot;-0.0941988441023&quot;, L = &quot;0.1&quot;
LTU_Q18   :      QUAD, K1 = &quot;0.901961496764&quot;, L = &quot;0.1&quot;
LTU_Q19   :      QUAD, K1 = &quot;-1.22468814231&quot;, L = &quot;0.1&quot;
LTU_Q2    :      QUAD, K1 = &quot;3.43160610965&quot;, L = &quot;0.1&quot;
LTU_Q20   :      QUAD, K1 = &quot;-1.09435990917&quot;, L = &quot;0.1&quot;
LTU_Q21   :      QUAD, K1 = &quot;2.19055626432&quot;, L = &quot;0.1&quot;
LTU_Q22   :      QUAD, K1 = &quot;-2.28862467644&quot;, L = &quot;0.1&quot;
LTU_Q3    :      QUAD, K1 = &quot;0.651660173421&quot;, L = &quot;0.1&quot;
LTU_Q4    :      QUAD, K1 = &quot;1.0&quot;, L = &quot;0.1&quot;
LTU_Q5    :      QUAD, K1 = &quot;0.0&quot;, L = &quot;0.1&quot;
LTU_Q6    :      QUAD, K1 = &quot;-2.0&quot;, L = &quot;0.1&quot;
LTU_Q7    :      QUAD, K1 = &quot;2.0&quot;, L = &quot;0.1&quot;
LTU_Q8    :      QUAD, K1 = &quot;1.24003413647&quot;, L = &quot;0.1&quot;
LTU_Q9    :      QUAD, K1 = &quot;-3.38716619143&quot;, L = &quot;0.1&quot;
LTU_W0    :     WATCH, FILENAME = &quot;C0.out&quot;
PRF01BC1  :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF01BC2  :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF01BI1  :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF01BI2  :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF01BI3  :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF01L0   :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF01L1   :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF01L2   :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF01L3   :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF02BC1  :   CSRDRIF, use_stupakov = &quot;1.0&quot;, dz = &quot;0.01&quot;, l = &quot;0.2&quot;, csr = &quot;1.0&quot;
PRF02BC2  :   CSRDRIF, use_stupakov = &quot;1.0&quot;, dz = &quot;0.01&quot;, l = &quot;0.115&quot;, csr = &quot;1.0&quot;
PRF02BI1  :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF02BI3  :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF02L0   :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.14&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF02L2   :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF02L3   :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF03BI1  :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF03BI3  :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF03L0   :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.12&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF03L3   :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF04BI1  :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF04L0   :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF04L3   :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF05BI1  :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF05L3   :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF06BI1  :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF06L3   :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF07BI1  :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PRF07L3   :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.115&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
PSTN01    :      MARK, FITPOINT = &quot;1.0&quot;
PSTN02    :      MARK, FITPOINT = &quot;1.0&quot;
PSTN03    :      MARK, FITPOINT = &quot;1.0&quot;
PSTN04    :      MARK, FITPOINT = &quot;1.0&quot;
PSTN05    :      MARK, FITPOINT = &quot;1.0&quot;
PSTN06    :      MARK, FITPOINT = &quot;1.0&quot;
PSTN07    :      MARK, FITPOINT = &quot;1.0&quot;
PSTN08    :      MARK, FITPOINT = &quot;1.0&quot;
PSTN09    :      MARK, FITPOINT = &quot;1.0&quot;
PSTN10    :      MARK, FITPOINT = &quot;1.0&quot;
PSTN11    :      MARK, FITPOINT = &quot;1.0&quot;
PSTN12    :      MARK, FITPOINT = &quot;1.0&quot;
PSTN13    :      MARK, FITPOINT = &quot;1.0&quot;
PSTN14    :      MARK, FITPOINT = &quot;1.0&quot;
PSTN15    :      MARK, FITPOINT = &quot;1.0&quot;
Q01BC1    :      QUAD, K1 = &quot;-4.64573&quot;, L = &quot;0.2&quot;
Q01BC2    :      QUAD, K1 = &quot;-2.36377&quot;, L = &quot;0.2&quot;
Q01BI1    :      QUAD, K1 = &quot;0.4&quot;, L = &quot;0.2&quot;
Q01BI2    :      QUAD, K1 = &quot;-2.44726&quot;, L = &quot;0.2&quot;
Q01BI3    :      QUAD, K1 = &quot;1.0&quot;, L = &quot;0.2&quot;
Q01L0     :      QUAD, K1 = &quot;3.95&quot;, L = &quot;0.1&quot;
Q01L1     :      QUAD, K1 = &quot;-5.62694&quot;, L = &quot;0.1&quot;
Q01L2H    :      QUAD, K1 = &quot;-1.02711&quot;, L = &quot;0.1&quot;
Q01L3H    :      QUAD, K1 = &quot;-1.08303&quot;, L = &quot;0.1&quot;
Q02BC1    :      QUAD, K1 = &quot;4.3335&quot;, L = &quot;0.2&quot;
Q02BC2    :      QUAD, K1 = &quot;2.66697&quot;, L = &quot;0.2&quot;
Q02BI1    :      QUAD, K1 = &quot;-0.8&quot;, L = &quot;0.2&quot;
Q02BI2    :      QUAD, K1 = &quot;2.92352&quot;, L = &quot;0.2&quot;
Q02BI3    :      QUAD, K1 = &quot;-0.6&quot;, L = &quot;0.2&quot;
Q02L0     :      QUAD, K1 = &quot;-3.75&quot;, L = &quot;0.2&quot;
Q02L1     :      QUAD, K1 = &quot;5.59702&quot;, L = &quot;0.2&quot;
Q02L3H    :      QUAD, K1 = &quot;0.99491&quot;, L = &quot;0.1&quot;
Q03BC1    :      QUAD, K1 = &quot;0.0&quot;, L = &quot;0.1&quot;
Q03BI1    :      QUAD, K1 = &quot;-4.12047&quot;, L = &quot;0.2&quot;
Q03BI2    :      QUAD, K1 = &quot;0.0971&quot;, L = &quot;0.2&quot;
Q03BI3    :      QUAD, K1 = &quot;3.00056&quot;, L = &quot;0.2&quot;
Q03L0     :      QUAD, K1 = &quot;3.95&quot;, L = &quot;0.1&quot;
Q03L1     :      QUAD, K1 = &quot;-5.62694&quot;, L = &quot;0.1&quot;
Q03L3H    :      QUAD, K1 = &quot;-1.00454&quot;, L = &quot;0.1&quot;
Q04BI1    :      QUAD, K1 = &quot;3.24914&quot;, L = &quot;0.2&quot;
Q04BI3    :      QUAD, K1 = &quot;-2.87761&quot;, L = &quot;0.2&quot;
Q04L0     :      QUAD, K1 = &quot;4.27971&quot;, L = &quot;0.1&quot;
Q04L3H    :      QUAD, K1 = &quot;0.99491&quot;, L = &quot;0.1&quot;
Q05BC1    :      QUAD, K1 = &quot;0.0&quot;, L = &quot;0.1&quot;
Q05BI1    :      QUAD, K1 = &quot;1.6603&quot;, L = &quot;0.2&quot;
Q05L0     :      QUAD, K1 = &quot;-4.08602&quot;, L = &quot;0.2&quot;
Q05L3H    :      QUAD, K1 = &quot;-1.00454&quot;, L = &quot;0.1&quot;
Q06BI1    :      QUAD, K1 = &quot;1.8468&quot;, L = &quot;0.2&quot;
Q06L0     :      QUAD, K1 = &quot;4.27971&quot;, L = &quot;0.1&quot;
Q06L3H    :      QUAD, K1 = &quot;0.99491&quot;, L = &quot;0.1&quot;
Q07BI1    :      QUAD, K1 = &quot;-3.13483&quot;, L = &quot;0.2&quot;
Q07L0     :      QUAD, K1 = &quot;0.0&quot;, L = &quot;0.1&quot;
Q07L3H    :      QUAD, K1 = &quot;-1.00454&quot;, L = &quot;0.1&quot;
Q08BI1H   :      QUAD, K1 = &quot;-4.60769&quot;, L = &quot;0.1&quot;
Q08L0     :      QUAD, K1 = &quot;0.0&quot;, L = &quot;0.1&quot;
Q09BI1H   :      QUAD, K1 = &quot;4.60769&quot;, L = &quot;0.1&quot;
Q10BI1H   :      QUAD, K1 = &quot;-4.60769&quot;, L = &quot;0.1&quot;
Q11BI1H   :      QUAD, K1 = &quot;4.60769&quot;, L = &quot;0.1&quot;
Q12BI1H   :      QUAD, K1 = &quot;-4.60769&quot;, L = &quot;0.1&quot;
Q13BI1H   :      QUAD, K1 = &quot;4.60769&quot;, L = &quot;0.1&quot;
Q14BI1H   :      QUAD, K1 = &quot;-4.60769&quot;, L = &quot;0.1&quot;
Q15BI1H   :      QUAD, K1 = &quot;4.60769&quot;, L = &quot;0.1&quot;
Q16BI1    :      QUAD, K1 = &quot;3.47744&quot;, L = &quot;0.2&quot;
Q17BI1    :      QUAD, K1 = &quot;-4.00489&quot;, L = &quot;0.2&quot;
Q18BI1    :      QUAD, K1 = &quot;-3.48617&quot;, L = &quot;0.2&quot;
Q19BI1    :      QUAD, K1 = &quot;4.21129&quot;, L = &quot;0.2&quot;
SLT01BC1  :   CSRDRIF, use_stupakov = &quot;1.0&quot;, dz = &quot;0.01&quot;, l = &quot;0.21&quot;, csr = &quot;1.0&quot;
TDS01BI1  :      RFDF, tilt = &quot;1.5707963268&quot;, l = &quot;1.4&quot;, frequency = &quot;2856000000.0&quot;, voltage = &quot;0.0&quot;, n_kicks = &quot;34.0&quot;, phase = &quot;90.0&quot;
TDS01BI3  :      RFDF, tilt = &quot;1.5707963268&quot;, l = &quot;1.4&quot;, frequency = &quot;2856000000.0&quot;, voltage = &quot;0.0&quot;, n_kicks = &quot;172.0&quot;, phase = &quot;90.0&quot;
TDS01L0   :      RFDF, tilt = &quot;1.5707963268&quot;, l = &quot;0.656&quot;, frequency = &quot;2856000000.0&quot;, voltage = &quot;0.0&quot;, n_kicks = &quot;34.0&quot;, phase = &quot;90.0&quot;
VALV      :  LSCDRIFT, lsc = &quot;1.0&quot;, l = &quot;0.072&quot;, interpolate = &quot;1.0&quot;, smoothing = &quot;1.0&quot;, high_frequency_cutoff1 = &quot;0.3&quot;, high_frequency_cutoff0 = &quot;0.25&quot;, bins = &quot;512.0&quot;
W0        :     WATCH, mode = &quot;coord&quot;, filename = &quot;L0.out&quot;
W1        :     WATCH, mode = &quot;coord&quot;, filename = &quot;L1.out&quot;
W2        :     WATCH, mode = &quot;coord&quot;, filename = &quot;BC1.out&quot;
W3        :     WATCH, mode = &quot;coord&quot;, filename = &quot;L2.out&quot;
W4        :     WATCH, mode = &quot;coord&quot;, filename = &quot;BC2.out&quot;
W5        :     WATCH, mode = &quot;coord&quot;, filename = &quot;L3.out&quot;

! Beamline definitions:                                                   
SXFEL     : line = (c, l0wake, dzero, dzero, d01l0, q01l0, d02l0, q02l0, d03l0, q03l0, d04l0, bll01, bpm01l0, crr01l0, dcrr, prf01l0, valv, bll01, d05l0, b1lh, d06l0, b2lh, bpm02l0, bll02, prf02l0, d07l0, lm, d07l0, prf03l0, d08l0, b3lh, d09l0, b4lh, d10l0, bll01, d11l0, q04l0, d12l0, q05l0, d13l0, q06l0, d14l0, bll01, bpm03l0, crr02l0, dcrr, prf04l0, bll01, tds01l0, bll01, d15l0, q07l0, d16l0, q08l0, d17l0, bam01l0, ict01l0, bll01, dbend01l0, bll01, dbpm, w0, dzero, d01l1, q01l1, d02l1, q02l1, d03l1, q03l1, d04l1, bll01, bpm01l1, crr01l1, dcrr, dbpmlsc, prf01l1, valv, bll01, dawgs, as1o1l1, dawgs, bll03, dawgs, as1o1l1, dawgs, bll01, valv, bll01, dawgx1, ax1o1l1, dawgx2, bll01, valv, pstn01, w1, dzero, d01bc1, q01bc1, d02bc1, q02bc1, d03bc1, bll01, bpm01bc1, crr01bc1, dcrr, dbpmlsc, dbpmlsc, prf01bc1, bll01, d04bc1, b1bc1, d05bc1, bll01, d06bc1, q03bc1, d07bc1, crr02bc1, d08dbc1csr, d08dbc1lsc, d08dbc1csr, d08dbc1lsc, d08dbc1csr, d08dbc1lsc, d08dbc1csr, d08dbc1lsc, d08dbc1csr, d08dbc1lsc, d08dbc1csr, d08dbc1lsc, d08dbc1csr, d08dbc1lsc, d08dbc1csr, d08dbc1lsc, d08dbc1csr, d08dbc1lsc, d08dbc1csr, d08dbc1lsc, bll01, d09bc1, b2bc1, d10bc1, bll02, bpm02bc1, bll02, slt01bc1, prf02bc1, bll02, d12bc1csr, d12bc1lsc, b3bc1, d13bc1, bll01, d14dbc1csr, d14dbc1lsc, d14dbc1csr, d14dbc1lsc, d14dbc1csr, d14dbc1lsc, d14dbc1csr, d14dbc1lsc, d14dbc1csr, d14dbc1lsc, d14dbc1csr, d14dbc1lsc, d14dbc1csr, d14dbc1lsc, d14dbc1csr, d14dbc1lsc, d14dbc1csr, d14dbc1lsc, d14dbc1csr, d14dbc1lsc, crr03bc1, d15bc1, q05bc1, d16bc1, bll01, d17bc1, b4bc1, pstn02, d18bc1, bll01, cdr01bc1, w2, dzero, dzero, dzero, d01bi1, q01bi1, d02bi1, q02bi1, d03bi1, valv, bll01, tds01bi1, bll01, valv, d04bi1, q03bi1, d05bi1, q04bi1, d06bi1, bll01, bpm01bi1, crr01bi1, dcrr, prf01bi1, d07bi1, q05bi1, d08bi1, bll01, bam01bi1, ict01bi1, d09bi1, q06bi1, d10bi1, q07bi1, d11bi1, bll01, bpm02bi1, crr02bi1, dcrr, prf02bi1, d12bi1, q08bi1h, pstn04, dzero, q08bi1h, dfodo2bi1, q09bi1h, pstn03, q09bi1h, d13bi1, bll01, bpm03bi1, crr03bi1, dcrr, prf03bi1, dfodo1bi1, q10bi1h, pstn03, q10bi1h, dfodo2bi1, q11bi1h, q11bi1h, d14bi1, bll01, bpm04bi1, crr04bi1, dcrr, prf04bi1, dfodo1bi1, q12bi1h, q12bi1h, dfodo2bi1, q13bi1h, q13bi1h, d15bi1, bll01, bpm05bi1, crr05bi1, dcrr, prf05bi1, dfodo1bi1, q14bi1h, q14bi1h, dfodo2bi1, q15bi1h, q15bi1h, d16bi1, bll01, bpm06bi1, crr06bi1, dcrr, prf06bi1, dzero, d17bi1, q16bi1, d18bi1, q17bi1, d19bi1, bll01, bpm07bi1, crr07bi1, dcrr, prf07bi1, dbend01bi1, bll01, d20bi1, q18bi1, d21bi1, q19bi1, d22bi1, pstn05, dzero, dzero, bll01, bpm01l2, crr01l2, dcrr, dbpmlsc, prf01l2, valv, d01l2, bll01, dacl2, bll04, dacl2, d02l2, q01l2h, pstn06, q01l2h, d03l2, bll01, bpm02l2, crr02l2, dcrr, prf02l2, bll01, dawgc1, ac1o1l2_1, dawgc2, bll04, dawgc1, ac1o1l2_1, dawgc2, bll01, dawgc1, ac1o1l2_2, dawgc2, bll04, dawgc1, ac1o1l2_2, dawgc2, pstn07, w3, dzero, dzero, d01bc2, q01bc2, d02bc2, q02bc2, d03bc2, bll01, bpm01bc2, crr01bc2, dcrr, dbpmlsc, prf01bc2, valv, bll01, d04dbc2, d04dbc2, d04dbc2, d04dbc2, d04dbc2, d04dbc2, d04dbc2, d04dbc2, d04dbc2, d04dbc2, bll01, bpm02bc2, crr02bc2, dcrr, dbpmlsc, prf02bc2, bll01, d05dbc2, d05dbc2, d05dbc2, d05dbc2, d05dbc2, d05dbc2, d05dbc2, d05dbc2, d05dbc2, d05dbc2, bll01, pstn08, w4, dzero, dzero, d01bi2, q01bi2, d02bi2, q02bi2, d03bi2, bll01, bpm01bi2, crr01bi2, dcrr, dbpmlsc, prf01bi2, d04bi2, q03bi2, d05bi2, dzero, dzero, d01l3, q01l3h, pstn09, q01l3h, d02l3, bll01, bpm01l3, crr01l3, dcrr, prf01l3, valv, bll01, dawgc1, ac1o1l3_1, dawgc2, bll04, dawgc1, ac1o1l3_1, dawgc2, d03l3, q02l3h, dzero, pstn10, q02l3h, d04l3, bll01, bpm02l3, crr02l3, dcrr, prf02l3, valv, bll01, dawgc1, ac1o1l3_2, dawgc2, bll04, dawgc1, ac1o1l3_2, dawgc2, dzero, d05l3, q03l3h, pstn11, q03l3h, d06l3, bll01, bpm03l3, crr03l3, dcrr, prf03l3, valv, bll01, dawgc1, ac1o1l3_3, dawgc2, bll04, dawgc1, ac1o1l3_3, dawgc2, dzero, d07l3, q04l3h, pstn12, q04l3h, d08l3, bll01, bpm04l3, crr04l3, dcrr, prf04l3, valv, bll01, dawgc1, ac1o1l3_4, dawgc2, bll04, dawgc1, ac1o1l3_4, dawgc2, dzero, d09l3, q05l3h, pstn13, q05l3h, d10l3, bll01, bpm05l3, crr05l3, dcrr, prf05l3, valv, bll01, dacl3, bll04, dacl3, dzero, d11l3, q06l3h, pstn14, q06l3h, d12l3, bll01, bpm06l3, crr06l3, dcrr, prf06l3, dvalvbll, dacl3, bll04, dacl3, dzero, d13l3, q07l3h, pstn15, q07l3h, d14l3, bll01, bpm07l3, crr07l3, dcrr, prf07l3, dvalvbll, dacl3, bll04, dacl3, w5, dzero, dzero, d01bi3, q01bi3, d02bi3, q02bi3, d03bi3, bll01, bpm01bi3, crr01bi3, dcrr, prf01bi3, valv, bll01, tds01bi3, bll01, valv, d04bi3, q03bi3, d05bi3, q04bi3, d06bi3, bll01, bpm02bi3, crr02bi3, dcrr, prf02bi3, d07bi3, bam01bi3, ict01bi3, bll01, dbend01bi3, bll01, bpm03bi3, crr03bi3, dcrr, prf03bi3, ltu_q0, ltu_l0, ltu_q1, ltu_l1, ltu_q2, ltu_l2, ltu_q3, ltu_l3, ltu_q4, ltu_l4, ltu_q5, ltu_l5, ltu_q6, ltu_l6, ltu_q7, ltu_l7, ltu_q8, ltu_l8, ltu_q9, ltu_l9, ltu_q10, ltu_l10, ltu_q11, ltu_l11, ltu_q12, ltu_l12, ltu_q13, ltu_l13, ltu_q14, ltu_l14, ltu_q15, ltu_l15, ltu_q16, ltu_l16, ltu_q17, ltu_l17, ltu_q18, ltu_l18, ltu_bc11, ltu_cbd11, ltu_bc12, ltu_cbd12, ltu_bc13, ltu_cbd13, ltu_bc14, ltu_q19, ltu_l19, ltu_q20, ltu_l20, ltu_q21, ltu_l21, ltu_bc21, ltu_cbd21, ltu_bc22, ltu_cbd22, ltu_bc23, ltu_cbd23, ltu_bc24, ltu_q22, ltu_l22, ltu_w0)
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The grouped highlighted lines indicate the EPICS control
configurations of the elements if defined with.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="demo3.html" title="Example 3"
             >next</a> |</li>
        <li class="right" >
          <a href="demo1.html" title="Example 1"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">beamline 1.3.5 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../demo.html" >Examples and Demonstrations</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Tong Zhang.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.5.
    </div>
  </body>
</html>